<!DOCTYPE html>
<!--
    ========================================
    🍔 GO BURGER - Sistema de Pedidos Online
    ========================================
    
    📋 ANTES DE HOSPEDAR:
    1. Vá até a linha ~2900 (procure por "SITE_CONFIG")
    2. Altere "productionUrl" para sua URL real
    3. Teste fazendo um pedido
    4. Remova a função testSiteConfig() se quiser
    
    🌐 Exemplo de configuração:
    productionUrl: 'https://meusite.com.br'
    
    ========================================
-->
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GO BURGER - Hamburgueria Artesanal Querência MT | Delivery</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNCIgZmlsbD0iI0ZGNkExMyIvPgo8dGV4dCB4PSIxNiIgeT0iMjIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfhZQ8L3RleHQ+Cjwvc3ZnPg==">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iMjAiIGZpbGw9IiNGRjZBMTMiLz4KPHRleHQgeD0iOTAiIHk9IjEwNSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjgwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+8J+FlDwvdGV4dD4KPC9zdmc+">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="🍔 GO BURGER Querência-MT: Hambúrgueres artesanais com entrega rápida! Peça já pelo WhatsApp e receba em casa!">
    <meta name="keywords" content="hamburgueria, querencia, mato grosso, delivery, hamburguer artesanal, whatsapp, pedido online">
    <meta name="author" content="GO BURGER">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://fanciful-bublanina-c3068f.netlify.app/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fanciful-bublanina-c3068f.netlify.app/">
    <meta property="og:title" content="GO BURGER - Hamburgueria Artesanal Querência MT">
    <meta property="og:description" content="🍔 Hambúrgueres artesanais com entrega rápida! Peça já pelo WhatsApp e receba em casa!">
    <meta property="og:image" content="https://fanciful-bublanina-c3068f.netlify.app/logo-go-burger.jpg">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:site_name" content="GO BURGER">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://fanciful-bublanina-c3068f.netlify.app/">
    <meta name="twitter:title" content="GO BURGER - Hamburgueria Artesanal Querência MT">
    <meta name="twitter:description" content="🍔 Hambúrgueres artesanais com entrega rápida! Peça já pelo WhatsApp e receba em casa!">
    <meta name="twitter:image" content="https://fanciful-bublanina-c3068f.netlify.app/logo-go-burger.jpg">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- PWA Meta Tags -->
    <!-- PWA theme-color: suportado por Chrome/Safari, não por Firefox/Opera -->
    <meta name="theme-color" content="#FF6A13">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="GO BURGER">
    <link rel="apple-touch-icon" href="logo-go-burger.jpg">
    <link rel="icon" type="image/jpeg" href="logo-go-burger.jpg">
    <link rel="manifest" href="manifest.json">
    


    <style>
        /* Reset e variáveis */
        :root {
            --primary: #FF6A13;
            --primary-dark: #E55A0B;
            --secondary: #2B8A4A;
            --secondary-dark: #1F6A3A;
            --dark: #1A1A1A;
            --light: #FFFFFF;
            --gray: #F5F5F5;
            --gray-dark: #E0E0E0;
            --text: #333333;
            --text-light: #666666;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--gray);
            color: var(--text);
            line-height: 1.6;
            /* Otimizações Mobile */
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            overflow-x: hidden;
        }

        /* Melhoria de Performance - GPU Acceleration */
        .header, .hero, .category-tabs, .product-card, .cart-button {
            transform: translateZ(0);
            will-change: transform;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--dark) 0%, #2C2C2C 100%);
            color: var(--light);
            padding: 1.5rem 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1.2rem;
            padding: 0.5rem;
            transition: transform 0.3s ease;
        }
        
        .logo:hover {
            transform: scale(1.02);
        }

        .logo img {
            height: 70px;
            width: 70px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid var(--primary);
            box-shadow: 0 4px 15px rgba(255, 106, 19, 0.4), 0 0 0 6px rgba(255, 106, 19, 0.1);
            transition: all 0.3s ease;
            background: white;
            padding: 3px;
        }
        
        .logo img:hover {
            box-shadow: 0 6px 20px rgba(255, 106, 19, 0.5), 0 0 0 8px rgba(255, 106, 19, 0.15);
            transform: rotate(5deg) scale(1.05);
        }

        .logo-text h1 {
            font-size: 1.9rem;
            font-weight: 800;
            color: var(--primary);
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            letter-spacing: 0.5px;
        }

        .logo-text p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin: 0;
            color: var(--text-light);
            font-weight: 500;
        }

        .contact-info {
            text-align: right;
        }

        .contact-info p {
            margin-bottom: 0.3rem;
            font-size: 0.9rem;
        }

        .contact-info .phone {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary);
        }

        .contact-info .phone a {
            color: inherit;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.3rem 0.5rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .contact-info .phone a:hover {
            background: rgba(255, 106, 19, 0.1);
            transform: scale(1.05);
        }
        
        .edit-customer-btn {
            margin-top: 0.5rem;
            padding: 0.4rem 1rem;
            background: linear-gradient(135deg, var(--secondary), #28a745);
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .edit-customer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1572802419224-296b0aeee0d9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: var(--light);
            padding: 4rem 1.5rem;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-button {
            display: inline-block;
            background: var(--primary);
            color: var(--light);
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            text-decoration: none;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(255, 106, 19, 0.3);
        }

        .cta-button:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(255, 106, 19, 0.4);
        }

        /* Game Section */
        .game-section {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--light);
            padding: 3rem 1.5rem;
            text-align: center;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .game-header {
            margin-bottom: 2rem;
        }

        .game-header h2 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
        }

        .game-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        .game-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .game-info {
            background: rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 2rem;
            text-align: left;
        }

        .game-info h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--light);
        }

        .game-info ul {
            list-style-type: none;
            margin-bottom: 1.5rem;
        }

        .game-info li {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: flex-start;
        }

        .game-info li i {
            color: var(--primary);
            margin-right: 0.8rem;
            margin-top: 0.2rem;
        }

        .game-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .game-form input {
            padding: 1rem;
            border-radius: var(--radius);
            border: none;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
        }

        .game-form button {
            background: var(--primary);
            color: var(--light);
            border: none;
            padding: 1rem;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .game-form button:hover {
            background: var(--primary-dark);
        }

        .play-game-link {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: var(--light);
            text-decoration: none;
            padding: 1rem 2rem;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 1.2rem;
            display: inline-block;
            transition: var(--transition);
            text-align: center;
            margin-bottom: 1.5rem;
            min-width: 200px;
            box-shadow: 0 4px 15px rgba(255, 106, 19, 0.3);
        }

        .play-game-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 106, 19, 0.4);
            background: linear-gradient(45deg, var(--primary-dark), var(--secondary));
        }

        .game-prizes {
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1rem;
        }

        .game-prizes h4 {
            color: var(--secondary);
            margin-bottom: 1rem;
            text-align: center;
            font-size: 1.1rem;
        }

        .prize-item {
            background: rgba(0,0,0,0.2);
            padding: 0.8rem;
            border-radius: var(--radius);
            margin-bottom: 0.5rem;
            border-left: 3px solid var(--primary);
            font-weight: 500;
        }

        .prize-note {
            font-size: 0.8rem;
            color: var(--primary);
            font-style: italic;
            text-align: center;
            margin-top: 0.5rem;
            background: rgba(255, 106, 19, 0.1);
            padding: 0.3rem;
            border-radius: var(--radius);
        }

        .monthly-prize-section {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
            text-align: center;
            border: 2px solid var(--primary);
        }

        .monthly-prize-section h4 {
            color: var(--dark);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .monthly-prize-details p {
            color: var(--dark);
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .monthly-prize-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .monthly-prize-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            font-weight: bold;
            color: var(--dark);
            border: 1px solid var(--primary);
        }

        .monthly-prize-details small {
            color: var(--dark);
            font-weight: bold;
            display: block;
            margin-top: 1rem;
        }



        .leaderboard {
            background: var(--light);
            color: var(--text);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-top: 2rem;
            box-shadow: var(--shadow);
        }

        .leaderboard h3 {
            color: var(--secondary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .leaderboard-list {
            list-style-type: none;
        }

        .leaderboard-list li {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid var(--gray-dark);
        }

        .leaderboard-list li:last-child {
            border-bottom: none;
        }

        .leaderboard-list .rank {
            font-weight: 700;
            color: var(--primary);
        }

        .ranking-info {
            text-align: center;
            margin-bottom: 1rem;
        }

        .ranking-info small {
            color: #666;
            font-style: italic;
        }

        .ranking-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .ranking-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ranking-btn:not(.secondary) {
            background: var(--primary);
            color: white;
        }

        .ranking-btn.secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .ranking-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 106, 19, 0.3);
        }

        /* Modal do Código de Jogo */
        .game-code-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .game-code-content {
            background: linear-gradient(145deg, #fff, #f8f9fa);
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            overflow: visible;
            margin: auto;
        }

        .game-code-header {
            background: var(--primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .game-code-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-game-code {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .close-game-code:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .game-code-body {
            padding: 2rem;
            overflow-y: auto;
            max-height: calc(90vh - 120px);
        }

        .whatsapp-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: linear-gradient(135deg, #dcf8c6, #a8e6a1);
            border: 2px solid #25D366;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .whatsapp-icon {
            font-size: 3rem;
            color: #25D366;
        }

        .whatsapp-text h4 {
            margin: 0 0 0.5rem 0;
            color: #1f4e3d;
            font-size: 1.2rem;
        }

        .whatsapp-text p {
            margin: 0;
            color: #2d5016;
            font-size: 0.95rem;
        }

        .code-instructions {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .code-instructions h5 {
            margin: 0 0 1rem 0;
            color: var(--dark);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .instructions-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .instruction-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .step {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .instruction-item span:last-child {
            color: #444;
            font-weight: 500;
        }

        .code-display {
            text-align: center;
            background: #f8f9fa;
            border: 2px dashed var(--primary);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .code-display .code {
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            background: white;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            display: inline-block;
            margin: 0.5rem 0;
            letter-spacing: 2px;
        }

        .copy-code {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 0.5rem;
            transition: all 0.2s;
        }

        .copy-code:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .code-info {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .code-info p {
            margin: 0.5rem 0;
            color: #1565c0;
            font-weight: 500;
        }

        .code-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn-play-now, .btn-play-later {
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            max-width: 200px;
        }

        .btn-play-now {
            background: var(--primary);
            color: white;
        }

        .btn-play-later {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-play-now:hover, .btn-play-later:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 106, 19, 0.3);
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .code-actions {
                flex-direction: column;
            }
            
            .code-display .code {
                font-size: 1.5rem;
                letter-spacing: 1px;
            }
            
            .whatsapp-info {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
            
            .whatsapp-icon {
                font-size: 2.5rem;
            }
            
            .instruction-item {
                align-items: flex-start;
                gap: 0.8rem;
            }
            
            .step {
                margin-top: 0.2rem;
            }
            
            /* Melhorias de Touch */
            button, .btn, .product-card {
                min-height: 44px; /* Apple recommended touch target */
                touch-action: manipulation;
            }
            
            /* Modal do Código de Jogo - Mobile */
            .game-code-content {
                width: 95% !important;
                max-width: none !important;
                max-height: 90vh;
                overflow-y: auto;
            }
            
            .game-code-header h2 {
                font-size: 1.3rem !important;
            }
            
            .game-code-body {
                padding: 1.5rem !important;
            }
            
            .whatsapp-info {
                flex-direction: column;
                text-align: center;
                gap: 0.8rem !important;
                padding: 1rem !important;
            }
            
            .whatsapp-icon {
                font-size: 2.5rem !important;
            }
            
            .code-display .code {
                font-size: 1.5rem !important;
                word-break: break-all;
            }
            
            .code-actions {
                display: flex !important;
                flex-direction: column !important;
                gap: 1rem !important;
                margin-top: 1.5rem !important;
            }
            
            .btn-play-now, .btn-play-later {
                width: 100% !important;
                min-height: 50px !important;
                font-size: 1.1rem !important;
                padding: 1rem !important;
                border-radius: 12px !important;
                font-weight: bold !important;
                touch-action: manipulation !important;
            }
            
            .btn-play-now {
                background: linear-gradient(135deg, #FF6A13, #FF8533) !important;
                color: white !important;
                border: none !important;
                box-shadow: 0 4px 15px rgba(255, 106, 19, 0.4) !important;
            }
            
            .btn-play-later {
                background: #6c757d !important;
                color: white !important;
                border: none !important;
            }
            
            /* Otimização de Scroll */
            body {
                scroll-behavior: smooth;
            }
        }

        /* Categories */
        .categories {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        .categories h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--dark);
        }

        .category-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2.5rem;
            padding: 1rem;
        }

        .category-tab {
            background: linear-gradient(135deg, #fff, #f8f9fa);
            border: 3px solid var(--gray-dark);
            padding: 1.2rem 2rem;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .category-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 106, 19, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .category-tab:hover::before {
            left: 100%;
        }

        .category-tab.active {
            background: linear-gradient(135deg, var(--primary), #ff8533);
            color: var(--light);
            border-color: var(--primary);
            transform: scale(1.08);
            box-shadow: 0 8px 20px rgba(255, 106, 19, 0.4);
        }

        .category-tab:hover:not(.active) {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        /* Products */
        .products {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem 3rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .product-card {
            background: var(--light);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            height: 180px;
            background-color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .extras-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(255, 106, 19, 0.3);
            z-index: 2;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-info h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .product-info p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            min-height: 60px;
        }

        .product-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .price {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
        }

        .add-to-cart {
            background: var(--secondary);
            color: var(--light);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .add-to-cart:hover {
            background: var(--secondary-dark);
            transform: scale(1.1);
        }

        /* Cart */
        .cart-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary);
            color: var(--light);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            z-index: 100;
            transition: var(--transition);
        }
        
        .country-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-left: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Botão de Fichas */
        .fichas-button {
            position: fixed;
            bottom: 95px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: var(--light);
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
        }

        .fichas-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.5);
        }

        .fichas-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--secondary);
            color: var(--light);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .cart-button:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--secondary);
            color: var(--light);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .cart-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .cart-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .cart-content {
            background: var(--light);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            border-radius: var(--radius);
            padding: 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--gray-dark);
            flex-shrink: 0;
        }
        
        .cart-items-wrapper {
            flex: 1;
            overflow-y: auto;
            padding: 0 2rem;
        }

        .cart-modal.active .cart-content {
            transform: translateY(0);
        }

        .cart-header h3 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--dark);
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .cart-items {
            overflow-y: visible;
            margin-bottom: 1.5rem;
            padding-top: 1rem;
        }
        
        .cart-footer-section {
            padding: 0 2rem 1.5rem;
            flex-shrink: 0;
            background: var(--light);
            border-top: 1px solid var(--gray-dark);
        }
        
        /* ========================================
           SISTEMA DE FICHAS DE FIDELIDADE - CSS
           ======================================== */
        .fichas-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(8px);
        }
        
        .fichas-content {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideInUp 0.4s ease;
        }
        
        @keyframes slideInUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .fichas-header {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
            padding: 25px;
            border-radius: 20px 20px 0 0;
            text-align: center;
            position: relative;
        }
        
        .fichas-header h2 {
            margin: 0 0 10px 0;
            font-size: 1.8rem;
        }
        
        .fichas-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.95rem;
        }
        
        .close-fichas {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .close-fichas:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }
        
        .fichas-body {
            padding: 30px;
        }
        
        .fichas-progress {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .fichas-count-display {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        .fichas-subtitle {
            color: var(--text-light);
            font-size: 0.95rem;
        }
        
        .cartela-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin: 25px 0;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }
        
        .ficha-slot {
            aspect-ratio: 1;
            border: 3px dashed #e0e0e0;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .ficha-slot.preenchida {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            border-color: #FF6B35;
            border-style: solid;
            animation: pulseIn 0.5s ease;
        }
        
        @keyframes pulseIn {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .ficha-slot.preenchida::before {
            content: '🍔';
            position: absolute;
            font-size: 1.5rem;
            animation: rotate 1s ease;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg) scale(0); }
            to { transform: rotate(360deg) scale(1); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .ficha-slot.vazia {
            background: #f8f9fa;
        }
        
        .premio-info {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin: 20px 0;
            animation: bounce 1s ease infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .premio-info h3 {
            margin: 0 0 10px 0;
            font-size: 1.3rem;
        }
        
        .premio-info p {
            margin: 0;
            font-size: 0.9rem;
            opacity: 0.95;
        }
        
        .btn-resgatar {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            margin-top: 20px;
        }
        
        .btn-resgatar:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        
        .btn-resgatar:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .historico-fichas {
            margin-top: 25px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }
        
        .historico-fichas h3 {
            margin: 0 0 15px 0;
            color: var(--dark);
            font-size: 1.1rem;
        }
        
        .historico-item {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.9rem;
        }
        
        .historico-item:last-child {
            border-bottom: none;
        }
        
        .historico-item.ganhou {
            color: #4CAF50;
        }
        
        .historico-item.resgatou {
            color: #FF6B35;
        }
        
        .fichas-info-box {
            background: #E3F2FD;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .fichas-info-box p {
            margin: 5px 0;
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        .fichas-info-box strong {
            color: #2196F3;
        }
        
        /* Mobile optimizations for cart */
        @media (max-width: 768px) {
            .cart-content {
                width: 100%;
                max-height: 95vh;
                border-radius: var(--radius) var(--radius) 0 0;
                margin-top: auto;
            }
            
            .cart-header {
                padding: 1rem 1.5rem;
            }
            
            .cart-items-wrapper {
                padding: 0 1.5rem;
            }
            
            .cart-footer-section {
                padding: 0 1.5rem 100px;
                max-height: 65vh;
                overflow-y: auto;
                overflow-x: hidden;
                -webkit-overflow-scrolling: touch;
            }
            
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
                padding: 0.8rem 0;
            }
            
            .item-controls {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                width: 100%;
                justify-content: space-between;
            }
            
            .qty-controls {
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }
            
            .qty-btn, .remove-btn {
                width: 44px !important;
                height: 44px !important;
                font-size: 1rem !important;
                touch-action: manipulation;
            }
            
            .add-to-cart {
                width: 50px !important;
                height: 50px !important;
                font-size: 1.2rem !important;
                touch-action: manipulation;
            }
            
            .category-tab {
                min-height: 50px;
                touch-action: manipulation;
            }
            
            .option-select, .address-textarea, .checkout-button {
                padding: 1rem !important;
                font-size: 1rem !important;
                min-height: 50px;
                touch-action: manipulation;
            }
            
            .checkout-options {
                gap: 1.5rem;
            }
            
            .option-label {
                font-size: 1rem !important;
                margin-bottom: 0.8rem !important;
            }
            
            /* Prevenir zoom duplo toque em iOS */
            * {
                -webkit-tap-highlight-color: transparent;
                -webkit-touch-callout: none;
            }
            
            button, .btn, input, select, textarea {
                -webkit-appearance: none;
                appearance: none;
                -webkit-border-radius: 0;
                border-radius: var(--radius);
            }
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 1rem 0;
            border-bottom: 1px solid var(--gray-dark);
            gap: 15px;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .item-info {
            flex: 1;
        }

        .item-info h4 {
            font-size: 1rem;
            margin-bottom: 0.3rem;
            color: var(--dark);
        }

        .item-info p {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0.2rem;
        }

        .item-controls {
            text-align: right;
            min-width: 80px;
        }

        .item-price {
            font-weight: 700;
            color: var(--primary);
            font-size: 1rem;
        }

        .qty-btn {
            background: var(--gray-dark);
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .qty-btn:hover {
            background: var(--primary);
            color: white;
        }

        .remove-btn {
            background: #dc2626;
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: var(--transition);
        }

        .remove-btn:hover {
            background: #991b1b;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 1.2rem;
            padding-top: 1rem;
            border-top: 2px solid var(--gray-dark);
            margin-bottom: 1.5rem;
        }

        .checkout-button {
            background: var(--secondary);
            color: var(--light);
            border: none;
            width: calc(100% - 3rem);
            padding: 1rem;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            margin: 1rem 1.5rem;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15);
        }

        .checkout-button:hover {
            background: var(--secondary-dark);
        }

        /* Opções de Checkout */
        .checkout-options {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--gray-light);
            border-radius: var(--radius);
        }

        .customer-info, .payment-options, .delivery-options {
            margin-bottom: 1rem;
        }

        .option-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-size: 0.9rem;
        }

        .option-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--gray);
            border-radius: var(--radius);
            font-size: 0.9rem;
            background: var(--light);
            color: var(--dark);
        }

        .option-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 106, 19, 0.2);
        }

        .option-input.required {
            border-left: 4px solid var(--secondary);
        }

        .option-input.error {
            border-color: #dc2626;
            background-color: #fef2f2;
            animation: shake 0.5s;
        }

        .option-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--gray);
            border-radius: var(--radius);
            font-size: 0.9rem;
            background: var(--light);
            color: var(--dark);
            cursor: pointer;
        }

        .option-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 106, 19, 0.2);
        }

        .option-select.required {
            border-left: 4px solid var(--secondary);
        }

        .option-select.error {
            border-color: #dc2626;
            background-color: #fef2f2;
        }

        .address-section {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--gray);
        }

        .address-textarea {
            width: 100%;
            min-height: 60px;
            max-height: 100px;
            padding: 0.75rem;
            border: 1px solid var(--gray);
            border-radius: var(--radius);
            font-size: 0.9rem;
            font-family: inherit;
            resize: none;
            background: var(--light);
            color: var(--dark);
            overflow-y: auto;
        }

        .address-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 106, 19, 0.2);
        }

        .address-textarea.error {
            border-color: #dc2626;
            background-color: #fef2f2;
        }

        .address-section.hidden {
            display: none;
        }
        
        /* Modal de Cadastro do Cliente */
        .customer-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .customer-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .customer-modal-content {
            background: var(--light);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            border-radius: 15px;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .customer-modal.active .customer-modal-content {
            transform: scale(1);
        }
        
        .customer-modal-header {
            background: linear-gradient(135deg, var(--primary), #ff8533);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .customer-modal-header h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1.5rem;
        }
        
        .customer-modal-header p {
            margin: 0;
            font-size: 0.95rem;
            opacity: 0.95;
        }
        
        .customer-modal-body {
            padding: 2rem;
        }
        
        .customer-modal-footer {
            padding: 1rem 2rem 2rem;
            display: flex;
            gap: 1rem;
        }
        
        .btn-skip-customer {
            flex: 1;
            padding: 0.9rem;
            border: 2px solid var(--gray-dark);
            background: transparent;
            color: var(--text);
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-skip-customer:hover {
            background: var(--gray-dark);
            color: var(--dark);
        }
        
        .btn-save-customer {
            flex: 2;
            padding: 0.9rem;
            border: none;
            background: linear-gradient(135deg, var(--secondary), #28a745);
            color: white;
            border-radius: var(--radius);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }
        
        .btn-save-customer:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        .required-indicator {
            color: var(--secondary);
            font-weight: bold;
        }

        .checkout-button.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: var(--light);
            padding: 3rem 1.5rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .footer-section p, .footer-section li {
            margin-bottom: 0.8rem;
            opacity: 0.8;
        }

        .footer-section ul {
            list-style-type: none;
        }

        .footer-section a {
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-section a:hover {
            color: var(--primary);
        }

        .footer-section p a {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.3rem 0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .footer-section p a:hover {
            background: rgba(255, 106, 19, 0.1);
            padding: 0.3rem 0.5rem;
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: var(--transition);
            color: var(--light);
            font-size: 1.2rem;
        }

        .social-links a:hover {
            background: var(--primary);
            transform: translateY(-3px);
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.7;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 1rem;
            }
            
            .contact-info {
                text-align: center;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .game-content {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 3rem 1rem;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .category-tabs {
                gap: 0.5rem;
                overflow-x: auto;
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE e Edge */
            }
            
            .category-tabs::-webkit-scrollbar {
                display: none;
            }
            
            .category-tab {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
                white-space: nowrap;
                flex-shrink: 0;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 0 1rem;
            }
            
            .header-container {
                padding: 0.8rem 1rem;
            }
            
            .logo {
                gap: 0.8rem;
            }
            
            .logo img {
                height: 55px;
                width: 55px;
            }
            
            .logo-text h1 {
                font-size: 1.4rem;
            }
            
            .logo-text p {
                font-size: 0.75rem;
            }
            
            .contact-info p {
                font-size: 0.8rem;
            }
            
            .edit-customer-btn {
                font-size: 0.75rem;
                padding: 0.3rem 0.8rem;
            }
        }

        /* Game buttons styles */
        .game-buttons-container {
            display: flex;
            gap: 0.5rem;
        }
        
        #create-test-order {
            background: var(--primary-dark);
            flex: 1;
        }
        
        #play-game {
            flex: 2;
        }
    </style>
</head>
<body>
    <!-- Aviso de atualização -->
    <div id="update-banner" style="display: none; position: fixed; top: 0; left: 0; right: 0; background: linear-gradient(135deg, #FF6A13, #ff8533); color: white; padding: 15px; text-align: center; z-index: 99999; box-shadow: 0 4px 12px rgba(0,0,0,0.3); animation: slideDown 0.5s ease;">
        <strong>🔄 NOVA VERSÃO DISPONÍVEL!</strong>
        <p style="margin: 5px 0;">Estamos atualizando o sistema automaticamente...</p>
        <div style="width: 100%; background: rgba(255,255,255,0.3); height: 4px; border-radius: 2px; margin-top: 10px; overflow: hidden;">
            <div style="width: 0%; height: 100%; background: white; animation: progressBar 2s linear forwards;"></div>
        </div>
    </div>
    
    <!-- Banner para abrir no navegador quando está no WhatsApp -->
    <div id="whatsapp-banner" style="display: none; position: fixed; top: 0; left: 0; right: 0; background: linear-gradient(135deg, #25D366, #128C7E); color: white; padding: 12px 15px; text-align: center; z-index: 99998; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
        <div style="font-size: 0.9rem; margin-bottom: 8px;">
            <strong>📱 Para melhor experiência, abra no navegador!</strong>
        </div>
        <button onclick="openInBrowser()" style="background: white; color: #128C7E; border: none; padding: 8px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; font-size: 0.9rem; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
            🌐 Abrir no Chrome/Navegador
        </button>
        <button onclick="document.getElementById('whatsapp-banner').style.display='none'" style="background: transparent; color: white; border: 1px solid rgba(255,255,255,0.5); padding: 8px 15px; border-radius: 20px; font-weight: bold; cursor: pointer; font-size: 0.9rem; margin-left: 10px;">
            Continuar aqui
        </button>
    </div>
    
    <style>
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        @keyframes progressBar {
            from { width: 0%; }
            to { width: 100%; }
        }
    </style>
    
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="logo-go-burger.jpg" alt="GO BURGER Logo - Hamburgueria Artesanal" loading="eager">
                <div class="logo-text">
                    <h1>GO BURGER</h1>
                    <p>🍔 Hamburgueria Artesanal</p>
                </div>
            </div>
            <div class="contact-info">
                <p class="phone"><a href="https://wa.me/556699122668" target="_blank" rel="noopener" title="Chamar no WhatsApp">📞 (66) 99912-2668</a></p>
                <p>🕒 Aberto Seg-Dom, 18h-23h</p>
                <button id="edit-customer-btn" class="edit-customer-btn" style="display: none;" title="Editar meus dados">
                    👤 <span id="customer-name-display"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Os Melhores Hamburgueres da Cidade</h2>
            <p>Ingredientes selecionados, preparo artesanal e sabor inigualável</p>
            <a href="#produtos" class="cta-button">Ver Cardápio</a>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories" id="produtos">
        <h2>Nosso Cardápio</h2>
        <div class="category-tabs">
            <div class="category-tab active" data-category="hamburgueres">🍔 Hambúrgueres</div>
            <div class="category-tab" data-category="combos">🎯 Combos</div>
            <div class="category-tab" data-category="porcoes">🍟 Porções</div>
            <div class="category-tab" data-category="bebidas">🥤 Bebidas</div>
        </div>
    </section>

    <!-- Products -->
    <section class="products">
        <div class="products-grid" id="products-container">
            <!-- Produtos serão carregados aqui via JavaScript -->
        </div>
    </section>

    <!-- Fichas e Cart Buttons -->
    <div class="fichas-button" id="fichas-button" onclick="showFichasModal()">
        🎁
        <div class="fichas-count">0</div>
    </div>
    
    <div class="cart-button" id="cart-button">
        🛒
        <div class="cart-count">0</div>
    </div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-content">
            <div class="cart-header">
                <h3>Seu Carrinho</h3>
                <button class="close-cart" id="close-cart">❌</button>
            </div>
            
            <div class="cart-items-wrapper">
                <div class="cart-items" id="cart-items">
                    <!-- Itens do carrinho serão carregados aqui -->
                </div>
                <div class="cart-total">
                    <span>Total:</span>
                    <span id="cart-total">R$ 0,00</span>
                </div>
            </div>
            
            <div class="cart-footer-section">
                <!-- Opções de Pagamento e Entrega -->
                <div class="checkout-options">
                    <div class="customer-info">
                        <label class="option-label">Nome: <span class="required-indicator">*</span></label>
                        <input type="text" id="customer-name" class="option-input required" placeholder="Digite seu nome">
                    </div>
                    
                    <div class="customer-info">
                        <label class="option-label">Telefone: <span class="required-indicator">*</span></label>
                        <input type="tel" id="customer-phone" class="option-input required" placeholder="(00) 00000-0000">
                    </div>
                    
                    <div class="payment-options">
                        <label class="option-label">Forma de Pagamento: <span class="required-indicator">*</span></label>
                        <select id="payment-method" class="option-select required">
                            <option value="">Selecione a forma de pagamento</option>
                            <option value="dinheiro">Dinheiro</option>
                            <option value="cartao-debito">Cartão de Débito</option>
                            <option value="cartao-credito">Cartão de Crédito</option>
                            <option value="pix">PIX</option>
                        </select>
                    </div>
                    
                    <div class="delivery-options">
                        <label class="option-label">Tipo de Pedido: <span class="required-indicator">*</span></label>
                        <select id="order-type" class="option-select required">
                            <option value="">Selecione o tipo de pedido</option>
                            <option value="entrega">Entrega</option>
                            <option value="retirada">Retirada no Local</option>
                            <option value="mesa">Consumo na Mesa</option>
                        </select>
                    </div>
                    
                    <div class="address-section hidden" id="address-section">
                        <label class="option-label">Endereço para Entrega:</label>
                        <textarea id="delivery-address" class="address-textarea" placeholder="Digite seu endereço completo..."></textarea>
                    </div>
                </div>
                
                <button class="checkout-button" id="checkout-button">Finalizar Pedido</button>
            </div>
        </div>
    </div>

    <!-- Modal de Cadastro do Cliente -->
    <div class="customer-modal" id="customer-modal">
        <div class="customer-modal-content">
            <div class="customer-modal-header">
                <h3>👤 Bem-vindo ao GO BURGER!</h3>
                <p>Para facilitar seus pedidos, salve seus dados uma única vez:</p>
            </div>
            <div class="customer-modal-body">
                <div class="customer-info">
                    <label class="option-label">Nome Completo: <span class="required-indicator">*</span></label>
                    <input type="text" id="modal-customer-name" class="option-input" placeholder="Digite seu nome completo">
                </div>
                
                <div class="customer-info">
                    <label class="option-label">Telefone: <span class="required-indicator">*</span></label>
                    <input type="tel" id="modal-customer-phone" class="option-input" placeholder="(00) 00000-0000">
                </div>
                
                <div class="customer-info">
                    <label class="option-label">Endereço Completo: <span class="required-indicator">*</span></label>
                    <textarea id="modal-customer-address" class="address-textarea" placeholder="Rua, número, bairro, cidade..."></textarea>
                </div>
                
                <div class="customer-info">
                    <label class="option-label">Link da Localização (Opcional):</label>
                    <input type="url" id="modal-customer-location" class="option-input" placeholder="Cole o link do Google Maps aqui">
                    <small style="color: var(--text-light); font-size: 0.85rem;">
                        📍 Copie o link de compartilhamento do Google Maps para facilitar a entrega
                    </small>
                </div>
            </div>
            <div class="customer-modal-footer">
                <button class="btn-skip-customer" id="btn-skip-customer">Pular por Enquanto</button>
                <button class="btn-save-customer" id="btn-save-customer">Salvar Dados</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>GO BURGER</h3>
                <p>Hamburgueria artesanal com os melhores ingredientes e preparo especializado. Rápido, suculento e inesquecível!</p>
                <div class="social-links">
                    <a href="https://www.instagram.com/goburger_querencia?igsh=MTZ3c3pyMGZrdDk2aA==" target="_blank" rel="noopener" title="Instagram GO BURGER"><i class="fab fa-instagram"></i></a>
                    <a href="#" title="Facebook GO BURGER"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://wa.me/556699122668" target="_blank" rel="noopener" title="WhatsApp GO BURGER"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Horário de Funcionamento</h3>
                <ul>
                    <li>Segunda: 19h - 23h</li>
                    <li>Quarta: 19h - 23h</li>
                    <li>Quinta: 19h - 23h</li>
                    <li>Sexta: 19h - 23h</li>
                    <li>Sábado: 18h - 23h</li>
                    <li>Domingo: 18h - 23h</li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contato</h3>
                <p><a href="https://wa.me/556699122668" target="_blank" rel="noopener" title="Chamar no WhatsApp">📞 (66) 99912-2668</a></p>
                <p><a href="https://maps.app.goo.gl/kC1BoyyTRyGD5Wb28" target="_blank" rel="noopener" title="Ver localização no mapa">📍 Localização: Querência - MT</a></p>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 GO BURGER. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // ============================================
        // VERIFICAÇÃO DE VERSÃO E LIMPEZA DE CACHE
        // ============================================
        (function() {
            const APP_VERSION = '5.2.0-FICHAS-FIDELIDADE';
            const lastVersion = localStorage.getItem('app_version');
            const urlParams = new URLSearchParams(window.location.search);
            const forceRefresh = urlParams.get('v');
            
            console.log('🔍 Versão atual:', APP_VERSION);
            console.log('🔍 Versão salva:', lastVersion);
            
            if (lastVersion !== APP_VERSION && forceRefresh !== APP_VERSION) {
                console.log('⚠️ VERSÃO DIFERENTE - Limpando tudo...');
                
                // Mostrar banner de atualização
                const banner = document.getElementById('update-banner');
                if (banner) {
                    banner.style.display = 'block';
                }
                
                // Limpar localStorage exceto app_version temporariamente
                const tempData = {};
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key !== 'app_version') {
                        tempData[key] = localStorage.getItem(key);
                    }
                }
                localStorage.clear();
                
                // Restaurar dados importantes
                Object.keys(tempData).forEach(key => {
                    localStorage.setItem(key, tempData[key]);
                });
                
                localStorage.setItem('app_version', APP_VERSION);
                
                // Limpar caches
                if ('caches' in window) {
                    caches.keys().then(names => {
                        return Promise.all(names.map(name => caches.delete(name)));
                    }).then(() => {
                        console.log('✅ Todos os caches deletados');
                    });
                }
                
                // Desregistrar service workers
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(regs => {
                        return Promise.all(regs.map(reg => reg.unregister()));
                    }).then(() => {
                        console.log('✅ Service Workers desregistrados');
                    });
                }
                
                // Redirecionar com parâmetro de versão
                console.log('🔄 Recarregando com nova versão...');
                setTimeout(() => {
                    const newUrl = window.location.pathname + '?v=' + APP_VERSION;
                    window.location.replace(newUrl);
                }, 2000);
                
                // Parar execução do resto do script
                throw new Error('Atualizando versão...');
            } else {
                localStorage.setItem('app_version', APP_VERSION);
                console.log('✅ Versão OK:', APP_VERSION);
            }
        })();
        
        // Sistema de Notificações Toast
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            const toastIcon = type === 'success' ? '✅' : type === 'error' ? '❌' : 'ℹ️';
            toast.innerHTML = `
                <div class="toast-content">
                    <span style="margin-right: 8px; font-size: 16px;">${toastIcon}</span>
                    <span>${message}</span>
                </div>
            `;
            
            // Adicionar CSS se não existir
            if (!document.querySelector('#toast-styles')) {
                const toastCSS = document.createElement('style');
                toastCSS.id = 'toast-styles';
                toastCSS.innerHTML = `
                    .toast {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 10000;
                        background: var(--light);
                        color: var(--text);
                        padding: 1rem 1.5rem;
                        border-radius: var(--radius);
                        box-shadow: 0 8px 24px rgba(0,0,0,0.15);
                        border-left: 4px solid var(--secondary);
                        transform: translateX(400px);
                        transition: transform 0.3s ease;
                        min-width: 300px;
                        backdrop-filter: blur(10px);
                    }
                    .toast.toast-success { border-left-color: var(--secondary); }
                    .toast.toast-error { border-left-color: #dc2626; }
                    .toast.toast-info { border-left-color: var(--primary); }
                    .toast.show { transform: translateX(0); }
                    .toast-content {
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        font-weight: 600;
                    }
                    .toast i {
                        font-size: 1.2rem;
                        color: var(--secondary);
                    }
                    .toast.toast-error i { color: #dc2626; }
                    .toast.toast-info i { color: var(--primary); }
                `;
                document.head.appendChild(toastCSS);
            }
            
            document.body.appendChild(toast);
            
            // Animar entrada
            setTimeout(() => toast.classList.add('show'), 100);
            
            // Remover após 3 segundos
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Dados organizados dos produtos
        const produtos = [
            // Hambúrgueres
            { id: 13, nome: "🍔 Monte seu Burger", desc: "Monte seu hambúrguer com os ingredientes que preferir.", preco: 0.00, img: "montagem.jpg", categoria: "Hambúrgueres", temAdicionais: true, isCustomBurger: true },
            { id: 18, nome: "🆕 Indiano 🇮🇳", desc: "✨ NOVIDADE! Pão gergelim, maionese verde, burger tradicional, ovo, costela desfiada, mussarela, tomate, molho especial.", preco: 38.90, img: "indiano.png", categoria: "Hambúrgueres", temAdicionais: true, isNovidade: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 38.90 },
                { label: "Duplo (2 carnes + mussarela dupla)", preco: 50.90 }
            ] },
            { id: 17, nome: "Português 🇵🇹", desc: "Pão, maionese verde, tomate 🍅, burger especial de linguiça, molho de maionese de limão defumada 🍋🔥, cheddar, mussarela e bacon 🥓.", preco: 30.00, img: "portuques.jpg", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 30.00 },
                { label: "Duplo (2 carnes + queijos duplos)", preco: 42.00 }
            ] },
            { id: 16, nome: "Paraguaio 🇵🇾", desc: "Pão gergelim, maionese, burger grelhado, abacaxi, mussarela, bacon, molho especial.", preco: 35.00, img: "paraguaio.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 35.00 },
                { label: "Duplo (2 carnes + queijo duplo)", preco: 48.00 }
            ] },
            { id: 1, nome: "Chileno 🇨🇱", desc: "Pão gergelim, maionese, burger grelhado, cheddar, salada e molho especial.", preco: 28.00, img: "chileno.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 28.00 },
                { label: "Duplo (2 carnes + cheddar duplo)", preco: 40.00 }
            ] },
            { id: 2, nome: "Francês 🇫🇷", desc: "Pão gergelim, maionese, burger grelhado, mussarela, salada e molho especial.", preco: 30.00, img: "frances.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne )", preco: 30.00 },
                { label: "Duplo (2 carnes + mussarela dupla)", preco: 42.00 }
            ] },
            { id: 3, nome: "Australiano 🇦🇺", desc: "Pão gergelim, maionese, burger grelhado, cheddar, cebola caramelizada.", preco: 28.00, img: "australiano.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 28.00 },
                { label: "Duplo (2 carnes + cheddar duplo)", preco: 40.00 }
            ] },
            { id: 4, nome: "Canadense 🇨🇦", desc: "Pão gergelim, maionese, burger grelhado, bacon, cheddar, cebola empanada, barbecue, molho especial.", preco: 35.00, img: "canadense.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 35.00 },
                { label: "Duplo (2 carnes + bacon duplo + cheddar duplo)", preco: 48.00 }
            ] },
            { id: 5, nome: "Italiano 🇮🇹", desc: "Pão gergelim, maionese, burger grelhado, bacon, cheddar, molho especial.", preco: 33.00, img: "italiano.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 33.00 },
                { label: "Duplo (2 carnes + bacon duplo + cheddar duplo)", preco: 46.00 }
            ] },
            { id: 6, nome: "Argentino 🇦🇷", desc: "Pão gergelim, maionese, burger grelhado, cheddar, picles, cebola, ketchup, mostarda, molho especial.", preco: 33.00, img: "argentino.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 33.00 },
                { label: "Duplo (2 carnes + cheddar duplo)", preco: 46.00 }
            ] },
            { id: 7, nome: "Brasileiro 🇧🇷", desc: "Pão gergelim, maionese, burger grelhado, cebola caramelizada, cheddar, salada, molho especial.", preco: 30.00, img: "brasileiro.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 30.00 },
                { label: "Duplo (2 carnes + cheddar duplo)", preco: 42.00 }
            ] },
            { id: 8, nome: "Americano 🇺🇸", desc: "Pão gergelim, maionese, burger grelhado, cebola empanada, bacon, cheddar, molho especial.", preco: 40.00, img: "americano.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne )", preco: 39.00 },
                { label: "Duplo (2 carnes + bacon duplo + cheddar duplo)", preco: 55.00 },
                { label: "Triplo (3 carnes + bacon triplo + cheddar triplo)", preco: 70.00 }
            ] },
            { id: 9, nome: "Inglês 🇬🇧", desc: "Pão gergelim, maionese, burger grelhado, cheddar, picles, salada, molho especial.", preco: 28.00, img: "ingles.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 30.00 },
                { label: "Duplo (2 carnes + cheddar duplo)", preco: 40.00 }
            ] },
            { id: 10, nome: "Alemão 🇩🇪", desc: "Pão gergelim, maionese, burger grelhado, bacon, mussarela, salada, molho especial.", preco: 30.00, img: "alemao.png", categoria: "Hambúrgueres", temAdicionais: true, opcoesTitulo: "Escolha o tamanho", opcoes: [
                { label: "Simples (1 carne)", preco: 33.00 },
                { label: "Duplo (2 carnes + bacon triplo + mussarela dupla)", preco: 49.00 }
            ] },
            // Combos
            { 
                id: 30, 
                nome: "Combo America", 
                desc: "Monte seu combo com hambúrgueres das Américas! Escolha entre: Brasileiro, Americano, Canadense, Argentino, Chileno ou Paraguaio.", 
                preco: 45.00, 
                img: "combo chileno.jpeg", 
                categoria: "Combos", 
                temAdicionais: false,
                isCombo: true,
                continente: "america",
                burgersPermitidos: [7, 8, 4, 6, 1, 16], // IDs dos hambúrgueres das Américas (apenas versão simples)
                opcoesTitulo: "Escolha o tamanho",
                opcoes: [
                    { label: "Simples", preco: 45.00, qtdBurgers: 1, desc: "1 hambúrguer + batata frita" },
                    { label: "Duplo", preco: 75.00, qtdBurgers: 2, desc: "2 hambúrgueres + batata + 4 bolinhos de costela + molhos" },
                    { label: "Família", preco: 140.00, qtdBurgers: 4, desc: "4 hambúrgueres + batata + 6 Texanos bolinhos de costela + molhos + Coca 2L" }
                ]
            },
            { 
                id: 32, 
                nome: "Combo Europeu", 
                desc: "Monte seu combo com hambúrgueres da Europa! Escolha entre: Português, Francês, Italiano, Alemão ou Inglês.", 
                preco: 45.00, 
                img: "A_gourmet_canadian_2k_202601081700.jpeg", 
                categoria: "Combos", 
                temAdicionais: false,
                isCombo: true,
                continente: "europa",
                burgersPermitidos: [17, 2, 5, 10, 9], // IDs dos hambúrgueres da Europa (apenas versão simples)
                opcoesTitulo: "Escolha o tamanho",
                opcoes: [
                    { label: "Simples", preco: 45.00, qtdBurgers: 1, desc: "1 hambúrguer + batata frita" },
                    { label: "Duplo", preco: 75.00, qtdBurgers: 2, desc: "2 hambúrgueres + batata + 4 Texano + molhos" },
                    { label: "Família", preco: 140.00, qtdBurgers: 4, desc: "4 hambúrgueres + batata + 6 Texano + molhos + Coca 2L" }
                ]
            },
            { id: 31, nome: "Combo Kids", desc: "Pão, carne, mussarela e molho especial. Acompanha batata frita.", preco: 25.00, img: "combo-kids.jpg", categoria: "Combos", temAdicionais: false },
            // Porções
            { id: 11, nome: "Anéis de Cebola", desc: "Porção crocante de anéis de cebola empanados.", preco: 30.00, img: "ANEIS-CEBOLA.jpeg", categoria: "Porções", temAdicionais: true, extraMultiplicador: 1.2, extrasCategoriasPermitidas: ["Carnes","Queijos","Molhos"], extrasBloqueadosIds: [105], opcoesTitulo: "Tamanho", opcoes: [
                { label: "Pequena", preco: 25.00 },
                { label: "Média", preco: 35.00 },
                { label: "Grande", preco: 45.00 }
            ] },
            { id: 12, nome: "Batata Frita", desc: "Porção de batata frita crocante.", preco: 30.00, img: "batata.jpeg", categoria: "Porções", temAdicionais: true, extraMultiplicador: 1.2, extrasCategoriasPermitidas: ["Carnes","Queijos","Molhos"], extrasBloqueadosIds: [105], opcoesTitulo: "Tamanho", opcoes: [
                { label: "Pequena", preco: 25.00 },
                { label: "Média", preco: 35.00 },
                { label: "Grande", preco: 45.00 }
            ] }, { id: 13, nome: "Texano - Bolinhas de Costelas Empanadas", desc: "Deliciosas bolinhas de costelas empanada com queijo.", preco: 35.00, img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTEhMWFhUXGB8YGBgYFx0YGRobIBgWGRgXGhgZHyggHRolHRsbITEhJSkrLi4uGh8zODMtNygtLisBCgoKDg0OGxAQGi0lICUtNTcvLy8vLy0tKzUrLS0tNS81LS0tLS0tLS0tLS0tLy0tLS0tLS0tLS0tLS0tLS0tLf/AABEIALcBEwMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAFAAIDBAYHAQj/xABCEAABAgMGAwYEBAQEBQUAAAABAhEAAyEEBRIxQVEiYXEGE4GRofAyscHRByNC4RRicvFSgpLCFSQzorIWF0Nj0v/EABoBAAIDAQEAAAAAAAAAAAAAAAIDAAEEBQb/xAArEQACAgICAQQBAwQDAAAAAAAAAQIRAyESMQQTIkFRYRQycQWhsfBCweH/2gAMAwEAAhEDEQA/AOLx5HSP/Ze8WScVmqHIMxVK7hBBox8YmR+CltYFVos6TqHWWrRjhq/hDLAOYQo6xI/BOZh/MtiAp/0yyoN1Kk1gifwgsiUJC588rD4lJKUhVaHCpKmbLOCSbIcWiazWWZMUEy0KWo5BIJfyjtdn/DCwSwkqTNWRXjmfFVw4SAGg/MIlpSlCUpSKAAMABoANIZHFfbBcvo5Fd/YOYgCZbD3aTUS0l1qZnBIokc84Pz7VwhEsJCUBkJAYJHJt4KXmozl4gos/C+TBn6OR6wEtcpSAcg+/wg9Rk1Y4vk+Rzm4xel/c6vj4OMU32/7Ecq1KcpqSdj5+kWgsFiotrvrkOf2inZpZQxxOXq3TR+QD5xMZwGXCKHqBlUv1qYytX0OuhTlB6UNW2J+mtYfItK0soHiH92O40gfaJr1OdavRn+UeS5tGejZeUWrjTRJb0zWWS9RMS7MRmnbyz8YbPtD5n9vp4CMim8SFkjZiD8jlWkExbcQfl5eOQj0ni+V6sKl2cbNh4StdGfnzEFZGIBRcmlfGmcOsdsClUonIc2caQKtCT3hJd8Rc+OVOsWJc5DYUs2Q+f3jjZIaOlCewmJ4KiXZKQwDV5nlmItyFHQBnd+Z1aBNlwD4jRqUyyr71iSdeFGbKgIzzoS2kKcLVIZy3YYmWti1QfQc48tE9RoNNfPJoGd46cTEnImuZ0pE8mZiKUoKiTkM1DJ3plnU5CBUUkRt2GrqtfdzJazXcahwz+sbU2lw40jmyZ5SWYgbHzL7Qast6kUPvTTwjq/05+1ow+YvcmbeVOce/rEqJxeM3YrfQOa++sE5dqBavvxjqUYAymb7/ALQJ7SdmpFvQEzUkLHwzEjjTyc5jkYu2autIvIW1BFNKi7OPTvwntwIwqkqBJ/WQwcs9K0Y0iVP4R2xge+s76h105PhrHX0zw7RNCfTiW5s5Gn8ILRT/AJqTz4Vxclfg/litvVpPydcdQePXi/TiDzZwPt32TN3zEJCzMlzEkpUQxcHiSWpsfGMw8dn/ABlsmOwy5msqcPJQKT6tHFoRNUxsXaHwjDQYTwIQ548jx4UWQ+wVq9f/ABH3+vIxApf/AOj0yGfvOGqmg7AGp5ID89fvES5uv+Yj/wABmfb7wKLEoH6eJiJTM5qcgNKPXnWFMcdRT/ManTQfOKnesaZf7R46mDRRFalu5gRbCMBOzn7esFpgcc9eTg/tAC83YtB8qRajYIsKWc0bCSX0cgD+8QXtYmS7vkVUycsGcPrEtkmEEOAQeFvGr+lI8vSbi1wuMnYkCoIrnlrHlckms0l+TuQj7E0A7QnhUK5UFD4Nnm20CUIVkSS5xFi5UEkUyNPpBUyicQKiE4uGlCGHTNj5QHEsoDk1Jo2erdHjRD5BlTS0R2iaMSyo0DgAe+YiktZw561+0eW4uujOzFqvsH3hgdRw71MaEtIzt1dkxVw5vqfCFZ7boOvv9hEMkGuEEhswNWqIo2iXMBJwqDZuGEO8eXCdicseUdD70nEKcUCh4cz1iIznyJJakOUlSksoFiH/AHBikpRCqhqNtDpqLdoCEmuwhY3mEhzpTnkM9YL3Ncq1LdSSkBXwkUV1Gg5RDcNiHBMJViBLJ02Db0+cbREvCmue+bU/aMGfPw0jZhxuQyTZUBLkpQ+Ycb7an3pDpKrOCSmYlTHCQhJfxKkgCm/LaPZ8ozZZCa8Px86OAdwaxFdV9TpkkJMuWnEopRhlqGJIZIUASQfhVXLKMag5Rch8pcJUeTDKJGMuoU4kBq/zZNnDrwu1SQClGEDV3D7Eij5QQuO5FELmKS6mPxghgOWpLeW0U3EkqbEQzlNCH3FKUrDceaUHUG9ASjGf7kipY57UfyqNtKbQbsWYUctOf7QFkzB+pIFWoN9uWVIuSp+VY9J4fkerDfaON5GHhLXRrZVpeJ0zff8AaM/Z7TFuVaB7aNT2Z6DcguYvJVAq71wRCoGtkZNij14iCo9xRASj2psHf2K0ydVSlFP9QGJPqBHzaFR9RpWA6lEBIDqJyAAcv4R8wWlSStZR8JUSn+ly3pCMy2Nx9DHj2GR7CRg6FDWhRCH1gpdKn4uI8kj4RpmdOZhnfVJOQ4i9XJ+BOvL1iotZJPP2BDHMWFRYMznydtT8RyGj+cRTJ1G023A+EZ6mITDDF2iJDZlqIPm/N8zA+3po+kWJwaKs2Y4IMC2NSM4ZqUqKVBwqgcOAenlFe1TAopBzSahgE5fF1Z9fXNt8pzjMz7aX4jxbnUfeOR5XjXLnE6GDLS4svKtJLJSpVN+hB1rT5wPt3ERLUqjtiDlVNML6hg39oiM/G/v941PY243/AOaWaPhQ458SwN3DA/1cozusfuY+70C7u7JOv89WEFylI+NqNiIcA58IeDkjs1Z5THC6h+o1LUfOg/cxpFLALAGozYVGQ5vrFG10JCfQtvrqPnGeebJ/ydfguGOLftQCtlmP6UsM6U+ba7bxAu7swogg5kDpy83g8uUQnidOoHV25k5exEH8OrQaHdywzD7U84kMj+C5pGYttllkKSoMoOU1zajsRt9IzirOkqAIOEsajSNbaZCi6SrjqVqwuAGy3Z2EVezkpX8UAgA4Ul1A5VoobB+Gm9I1wm4xb+jPPGpNUXrguggY1hjmlNXIoQeQ+0GDYQup0HExNQz1I26wTs9kxllAjXN+QNG9+rbwAYSZZTi1FSyWUASGoHYV5nSMDnLJI1RSxrRQtd3BQCS6Un8tISoJwpIIKgMndj4bxYXYlUITRAZKRQs/EwGReusRzhaDhErCEhIdKuJlO7tQg9S3KG2q2TUzEoRhUCnESc9RmG28ofbS4oR27YXsU8SrOUMapIcBiSXqSc1N94wl+2pIUsJUcRUCc8sKSBTagNa1jQzrQsIVib4sIBL5fEQCSdDy9YxswoXNJToTiG5d961cQXjwduRWSkEFSj3eIZBmbZqR6i1gFi46vuzdY8u22mYtKEKBxBgDQGjtiyBGnQxJfFzLBOEhRSMSwMwdQwo42f7Rrw55YZCMuNZEEJM6Lcud199Yyl13gS6TplGgsuLkPH6R6DHkU42jlTjxdM2F1HhEEUqgLdFqHwkts8Gkw1CpD0mJEjeG4oQVFNkSMr+LFuVKu5SUFu9WmWSP8JdSh44W6ExyLsz2bn26YqXICXSnEpSyUpAyAJANSchyOxjtfbu7DarDNlIBUsALQA1VJLgV3D+cO7DXGmxWZMsMVq4pqqVU2XQZD94RKNyGJ0jh9+dnrTZC1olFIJYLzQrosU8DWBcfSvae8JFkskyfaBiS2FMstxqU4SgDnrsHOkfNRNcgOQyHIPpCpJJ6DR7CjyFFFn1I3v6Q0iPcUNUqAbHUNUIjVEgBOQJ6B4ZMlL/wK/0mB5FpFeZAi2nCeUGJljmn9LdS3jAm9ZSkpIUPEVEVbDVGXvWeC/r78vOMZb5ZWSEpJOwDxorLZpk1a5bgcRUSRQJ4R509I0133HLlF0o5OQ6sW509KRi8jy44tds048Ln30cpm3baZVcCk+vydo7kJKUISl0gBISMLMlhQD751gbabuckkBId83613i7MR+ks1GcMGYNlV+UcnyPK9VK1Rrx4VDpkc0pCuFJDHMbkCp65PzinNNFKKTQlOVagOcjSLBmICiQrCAHYkl2IfUUBeggZNBm8aFhKVMWcth4Uuxzz3+cKlx+7/I+EX86L61j9aiE7PoBt7+cUZ9uwLQpnWkEB9MsiCP7CPbRbwssCzqwjIJpnvz5QEve11IdnVRSQC4DurU5A1A2MMxQbYEqS2R3te8ocKih3NWOdVaUzfzi52As//WWeJSiEpP8A3KIDalWXLSMDeUxJU8uoBfiq9dcs2jafhhaiFzZeT/mfESAHbCEmlHFR0OQbbnxcMDpmaM08nR0ORZDoa6PlydoGyO8QWICFzFkrxqBUQDVQDsW2oIMWm8RKS7Bz8NWrzHKMDfd+rxqTLUQVJZw5OjgnSOX48ZuTGt3tmwn2fAHoovUtXMOCep1inZ7t7xSuAAknXQNXKlXaAV0Sp6pJPerU5oMVAeM1agoPUQbld4E4QQFKDKUPtkIfJ8QX12Ub1RLlgrXxM+HD1LHP6xkLwtkuatBkAukEzCRhGlBzYfKN9eVzqnIQAMwQf6tYESOwa0ghhw6K33LRpxzhCPIRbk2mUeyl2YxiAGOhfIGrkqPsmsGu11hdGALS6hhIGdc1PtyObQTl2XupKpaZZUwLAABzoat5xlV32MZSxSlIBUQ2EmpJCtQDkz9YH3SfJbDil8mMsCFS5xxiocA6aZHI0bzjWSrQ4d/nEHa+aDNlLASQtGbuC1HD6EEa6PSBEtSqppsAD9Y7GDzVCFUYsnj8pXZqrNOg1ZLwUnI++hjHyJ6U5EmrGlAMs4KWK2pVRJy99I24PJjkX0/ozZcEos1aLwJ28vqIml2w7wDkzvf9ovSVxpsTxCsucSdIvSEsMooWVMEAYVKVhJIxn4ndlbRbky1yJj90D+QohIUTmpKssbMOKnMa8UtlkmSllE1CpaxmlaSk9WOnOPp8GKV63TItKcFolImDIYhxD+lQqk8wRC+NlnzPCjtE78JrEVEpm2hAOSQpJA5AlBPmTCicWSzXGftFyXbUMGlh9zX9oszLgP6VjxDc9HinPuuan9LjdJf0zgaixiZ5bL1UAwJ8svAUEBJl4zEEjGr/AFH7xdmPA+2SnELlAbBgq2XmoEkknqTACbf81BUULwk+XUiLF8yyAdoy0wKKgHz95wufti2Nik5JHULis5wpUovMmgKmKFAqgNE9PUkwSEnCGDmjZ0NIq2BJTLlp4QAkAnE4LJehOYpzi2qYVBqc9xvTyjyuTI2238nVUaqiGenhb+x6xDbwcNfmQ7Vr9orTrwly1YFYiVUGj0FfUeUey7QWZmLOmlNXOFsmpAJVsZxaMxa7XKmrxgHhUpORwthFQc34qAAVEPVP7qYiWlKAhZxYVg0CiGOhBL5aMcotYAnvClTa4dhxKIDVzcO/yiqmSJpSualw4NVNnQEswamXWkb7TXWgUnf5GWe1CWeJJWkLUggVCA4KVlyBhJGpcOdoC/waVSysLAJUXQogEOollEGjjZxRni1ek9PeKUlZNQ6CCykghknKmfPrAm8VJWokMCTpQcqbtGiC+tCpJ37gTODE1Cnyp6vBvsLasFrTiOHGkpTWmJwpII54SB1EArStIoC/Jord+vGkynxpIKcIcgioLdY2uDnFx+zLKSg7Os3uoLmMvEli5KQKgs4S5YZB4z9tmJciW7FwMQq1WdiWcjeNJKWLZZ5Cw6CpLM2RLEuCzuxY60OTQJl9nlutSSykh3FRyHSmdW+XLhrUvg0zakriF+w07vUlALEDEBmDTUdI2tiu0Kybf+3veOeXARLmJJJlzkq/yrBOT0HIsTu2bdYuHCsEhJSNAcwdR0rQxFiudfDMuWTSsUyx4AFDYONKZHrpDpiCHXo1fv72gquUCkg1BpEKktD346Xzoy+ocOva/FWmdN0lh+JyGpyzcYc8njM3reIw4QeJTYtgM2HUnIbx0j8QrrRIQu0S5SjKU4nplgOnL8wJpRgHOjA5PHKV3SoJUtBmTGJHwVdwBi4tjo+nNn4cUUvwaZZLWiSQSrClR+F2d36B9ILWSyrI4gwbRuVS/jAS70GuIGmb56jXKD9jtClcDFTMynboK9T94mW/gLGrJE2QlNXcA4cg/mc4ZLRMQcQcPUh/mctDF2S2JiMhVxlUg09I8nSHS6qPo2dH3yhEcjTGSxhC6bdicEBwM3+hyjQ2Q1DRiZE3uziQ5yceOlcmjZ3IrE6v0gt1Ovl8+kdnxc/OFPtHN8jFwZobMGETJMVkriwn37+kaDOPeE8eR63v9ohBe8zCj3D7cwoLRQfMz315Z0PKIzN9+Zq3NxnrEU2YCMQyND4gZs7nF4RQm2wsPPpkegy+cZ0hg+8AhSQ/QHVtK65igGkZ21SoJTJhPv6xTnJgZOh0EZi95Dgxg7ylspucdLt8uhjCX/JDHz/b19IXfKLQ3ppm1u+0ASJSzROFIq5OQ6eYgnMmnQqwPoG3qdB4xiuydueXLQ5MxJOEYgkYWJxVzZjpB21pIQQSwBFVsAAaFRIFM/ICPM5MPHJUjsck4pxI121LqUnCSCwKgVEklQABY8NOWWkUJloWMaypAUSMIdyakFgqjFzSoDQ6elnCllLMl04TUh1UqNXpWsC7eoA5heIFq4cNQAoDRVNaVhsIx6LcX2OvLu0ktNSFMFZOGLA/zUIcM+eVK1UrxYRNBKM3QwVVyWU1XJq/0gHeMvRIoKfzEUZ9zzgdPt8xIYU05aNTJ+esdCGC1SZmnlrbRpkXVOmkmVLxpBwviSD4lRFaiLtn7IT1y0TOEYlVSSxwuxLgHwA3ib8Mk2hcuZjR+VMdSJgwuVJLFDYnbw0NY6RLQQwemmj9BGHyfInhm4KtBRlGcVIA2fsVZMOFcoKAr+oHqSC/mYN2e65UrhlS0oSNEpAA10G9YIS3IyFX8IYQEuCH5+9Y578ictSboF96BFqS7hIGEg1ILvQJBbStdm5wP/8AUHcy0qnB0qxJLEApmOKO7cTuIL25dAopfThJoPCuTFs6iMz2jkJSkhaSJcxQDbKJYHlUu+lekacSTai9haaIJF7pmWgqMwJBSwTw4QQ2ElVS76jlmwjY3JalSFYiSUKAxJ21JT5u3lHLbddWBcslMxSFUUUgYknVhu7Z7FnpGmRIn2JPfIM6fLYlRI7wqGmIFiOGjtSsbXjqnFiptO00dj70EOC+tK9IiKngB2YvQzZKFFBQSl0pOZTWmj7iggyldW8R0hvqWc+UKAvaS2y5CCZqkoSstiVRLnRRyA6xhLTY5VlmyzLBSJuSAglLVLpUOEAGrDRQ0aNv25u02ixzUI+MDEh90kKA6Fm8Y592at0udJ7lScPGFSklwlMxJfCDXCl0gtk5MSe4uzRg6tAy9rCv+KUUy+CYAQSQz0DvTCcmD6ipiSRYSVEOyQxISHVR3oHGhY8jBe0WgTFlRlD8qYxGRStXCB/ub+WLn/DUqQtSfylGpNeLNwSaBJrlzjPLL7Uno2RqLszFhRhClcKgCSHDEgUAyfLRvnHqh8ClkAEFkbV26nNtoKTbiIAK0BOOhUVBi4phVmCAM2DtTSKtrsCEgKnYwkA4EEMxcjUVLYRqINNN6Kb+wbNlJyNcm00Dk55Rsbongy0ABgzN73zjHk4wVlhrhy1LinifKDvZ6Z+Ujdq9dY3+E6kzH5KuKZrJSq+kXpYijYkvBSWj3p7yjq2c+hAe/nDgn3+0PCdffPrDsHv9jETIR4RufOPIlcan1H1hRZRQ7N2zvLLIWagy0pVzKOAn/Ul4faEEFjufHZ216wH/AA6mY7EQ793NUBuEkBY/7ifONPMk4gP5aeeXq/pCU9DOmDmivOEEZ0hq6RQtAhU2OiB7wyMZOddi7RQcKAousimQYAamNVbk4yEb1PSHqlhKQkZCAjpWMe9GDX2fmyVJUhaFFLtiSWYu413MRWtc34ZgKSC5D8B6JFNx4xsbSjOIrJdip5wpAcCpOQD0J+UZc3GW3r8mjHJw0ujHonLmLwoSxWaJQ5xEkZBzyy2g7YOx1pnYVLaWg14g6wNDgO/ONtcdzS5QBTLlpUHxKw8R0zIpF21KIQSmhBd3AGr+6RyJ+T8wRp5u+NmeursnIlJUF/mLXQqVwnCW4AA4DjM0Jc6QOtfYKyLJeQUuCxE00pShUwIpo2cE/wCInTT+WzDM88iBizi6ZZISCrifWuzv5RnXk5Yy/dQcsS+djZNnCCEJASGJSAGSABVVANTycmCUifQTDxYvh0YGo8vnHlmzYigps5zp825mJlLClKSp8IFByff0hL1dvYMnfxofJQQrEzghxXLINFG87SHBYkvRIS+M5sGqQBWm0XZagCQkkDTycxAqQoqBxABJdquosXc6CJjivgC6dsht06apYQGCA6iCOJTBwkAaEsOdfEJb7CmbiTNxU4lcXCk0cdQmjlqgmmtyVPKJilLBK3MtAatWL0fOjbAHnEMuXNVLT3pIKGcAh6By4DAjxOvQbI/VU0V+3dg6QhXFMUlwQQCQGWkAcQSOmKuZBIehjUrtSTJQUtimMAAWqGoH0LQKmWibhWVy2QycAJFA1aNkQrwwxNdyj3XeOpOaEqcKSA7FQbcuz8oZLovumVrxvhMmZLBJxVABAcAEtUbt6RrbttomJCn9kA+RoYy99XdLmISgpKlaMwJq7u4Zg8edn7XhCEAknDmrXD0/lZvKHQppSFZo8o6NopbuN44raRgtNplDNE1KkJ5qqW2qqOy2AFQeMJf1yqTb501OEIUkFX+JwNG5YfWDm+MW5CvF3PiGrICUhKkpcj1p94ai0KKTLUApaUskM2JP6d66E0h9zJJkJVVRxEudTlpkGi0bKkqxnTbPSj7a+EYZt2anFQk4v4GSAo4QU1GhDAHTqcqjlAy/LuCikTBiYvixM5OgAZqgaaM9YN2mcyqAqJGWbAct4H3lISUgvVqbF3hUszi9Egrezm17gArSAksoD4qAAvTbmdzzix2QmLIOLLq+uT8gPUQOvlcvvQkJDlioNRKhoxJoR8xGjuVIwjCAByj0Pi43SkzLnyJXFG3u9FB0gmhHvTb7RSuiqA2lD4bwTSj3+3lHRRz2eAa/P16wsPj72iRn5+6jn4wm8fk3SCBGYwM1ev3hQ/E2vrCiEOffhtaiFplVwTEzHH/2pVKUkHmUO3Qx0LKhHXr57mONdmLWEKAFCFpUk6p4ZiMQ5grSOiidI7Fd9rTORjAIKThmDZdCfAhiDsRGaE/c4M0ZIexTX+0SsCK9ICXpJKK6QbWpjXI5EVrziG12JE2i5hCRokMSepBDQUotoGMqOfrtBNpQAd/JjBGYY01muixSlFaZRKiGJWoqpnkSw8ouTLus+EKMlNTTOo3NfKBeNhrKjn04xo7ps4lIHCyiOI7n7aRHePZ9cufKXLGKUpTk593qEncHIHz3NpSlMS4bIeNY4nnOSkoG3G042ieYsChp6MDqTppFRaiUq+JgAGLNRzt4a5UiQAKJZJGdavowc57+UUkySuYxFC5dSgBRskgeO9DyjH6bcqQxUiWTND4MSXHxUAfamkVbHxrChMSp6FI3Z89dvExnrxtQQtJUVhRLKKXcIL0BUKHE2+ZyaLK5qbKqWMdKniOKgQQGqwLqdxqOsSOBy77Gzaj0w8JzrChiIIqNAQaqAdncN4c4au2HvBLYcQepqAMwze2O0MsxSpQzcJOfCyC5dt3IbXOB962mXZz3uF1twpKqsQAfRvZgJx96dEik1QT/AIguCVUANBWhcVBo7CH2iYnCGThNGxVJJFMR8Rr84oDDMwypSVBIAUtaQWqMTAp3r8hD5dqmYlzSgFOaCMycKcNSwYu3V84JY9UA/wAFoKAmLQFJdTYlEE4WABSDQEkPpR9aAU7BYkJmTCFqUlRSQgjhQE0NOZcuanwiKTNKpiQoJUC6yRRRZuNVGCcsjt1htknIQRjWgEKLJSokkEMMIPxEnXRjm0Gk3HRTVMtrVLSo96oBQUAlwAWUCGD13ERG1CzgYXMpQDj4gAQBQlvMmoEZ2+b+lzjhkyiUoWUkYGc5U/V4ECrPlBqwTHkJQrCcP5ZUHISMLp2JIBYvkQraGRhKMaZL2SG3zF4QQkJwEYmNCk/qVswAzBiCXeEjRZSsE8QGLMVKVkEK1O/lE10XPNSSZqsIGTFwriUS+YoMJ8YJTbOlYGIAgOOHfT5RJTS9tl6DNz3khOFDukpcKfLqDpzh162dCpmIEKCgxANQUtWnJvKM3PlHAnAACBoepGTMatTeCEtQALkYlMGYUo+ReufsQTztri9if09O0y5MSMBSAEhJBAGVS1PEvAubaUhSpbkqH8is/wCoBgK76ExYk2hRxBaCnQO2FW5Z+GuUBb0tCpc9WAShil8RH6mCiAQaAuN6vC2lJ9GnDDk2n/ISF+SQg4v0mlH5VbKK67eChZwq4agZ0YFJfL2HjN3TaTKtAQKSyHahph03Ln5xct17rLoGFLpG3PNnzAHrlBek3VA0kzn95pItMx6Ot/A1HpGo7NznpGXvFZVOWWZlYeuEYX8W9YL3HOwqG0ejxJ8Ff0crJ+5nWLgHB4/TWDKU+z9vKAnZuY8tti/gwrB9I9n7QxCWeAePy5j9jHjaeg26faJG8fl76x5y8gNun2gwRleX+r7wofhOjef3j2IQ+f7qtBlzkKegUCela0pQExu+z98TJNoliYpRlL/LWSwdnSFHKqCXcVYnOgjnYo+rjwz/ALRoJNo71ElKmJwk4VAsqYlbVNGdBQDu3Qxgzpxkpo3+M1KMoM6/aQWKFaj+0AbXfS5H/VBUj/EBUdRqPXrFzsveBn2cFZecmiv6XUEl3qWYHoN4ffN3BaDR6RqTUo2jK1xlTI7stabQtOFWJHxKIqGGnUlh4wQtVrxLgX2Nuf8AhrLMUpgqaoq54E0SD44leMDrPeTqPX6wLlrZaVs21mQJklSTz8NQfe0ZmbiBKVAP+kMKncDfrvB+47QC+xD+UYft9b1SRKmJLPM60wrp5t6Rj87AskOXyh3jSalxCsxRKmBLHZiSwJo4LPz2ipjAVjDjhws4VkVVD1yGcZyzX6mYUuklSm/VhGLVTnrlF63HEpGFJNQSHYCoKsRws3Ig6Vjh8ZI6SSRLMn1OEKNSxwuBoS7NnR+UC7RL7wIxMksSCqWFAIIAopZDKoBqcywoRYtM0lRKSky3wpGEuS6RVzU+AAo8AL3lrOKZMdRQqj1oHYtlmC4c+sNxQp6ZHtGxsFoxMuWSQDhYsGS7DTJw/nEVqlS5k2YmZLwgEP3iQQWUSwYtxFjSpaMTdl6LROTMKlKShNQacJLFwNjVv5RlG0sdtExAWhRWnEpWIE5cQoCdC/lEyJ4l/wB/REuTs9Vey0TpgRLGDugwlpGLHiLOhwWqct4rXpPUpBdKishKUy8TJAPCpSlGgNc+TPnFW2zFd8FoIqRXLExOtaBznuYfeSFFSiVqLAlmzGJ2FNx4UgIU6YUo8Xod35mTTgCpZwEZ1IccHFQJBArTMx5d00CYogd4QNA4FTRLgAa1GeelYMSkIR3YDlBIWwo5dv8AEzsPAVioiS6SlWLNLBO71BYClRQ8zDUlTSF7ZEqcUowtTEWJosAsepJKiXiS6pplTO9AcM2Elgw16510h9rCUhUyYQlKQ5JFWp9owt+dpzPBly04ZYO9VDmNBq3SH4sUsvXXyLnOMNPs6Wu+UhIMtWOWr4SkmtTkWLBNdIhT2hZ68JyI8dKE5RhLmvFSUYFAql6AnKp+EaZuQ1YOWqYopCJUxOFvhKR4M2Zb2YXPxMadMbHM2rD1n7ThIUFJY5hXjUM2fz+ZmxX7LIHFizIJY65Vyzjna5Dh10L1ZLeTPD8VWSsuPAGuTZPzEVLxYPpl877R1OTeElbFSzSgALfKrc4odo56Zq8MoceAqxOGfEwAemhjm5tqgRtqA+ROdT7rF6z3xMfCkEuwY14R+gctYD9POG07ChxbtWjSSLOoIwqlvUKQKFiSMSXdmbENtdYivrBLmIUjCQFIqlik1fCCC3+Evs4iWVeUwJSqYkgmrk56hvJ4nsstE+bKSuXMUZZxJm95hAFKKcEKUSKUJY5isTFN2+WqKyQUd9mW7UXOJNootJx8eFKMOBJ+EFiQ+eWxh1jkUgp2wCV2wqS3wpdtw4rsQGEQWZHvPaPReK3LDFv6OPl1No0fZS3FCgguXyo/m2kb+QXH1PrAHsbdGBInK+JYYDZL/VvKDyE4V4WoajkNm6wx9imSEdT6D31jw7eLAedPtE5T1Pv3nDVMAXIAFeVMydhzi0yisu1S0nCqYhJGilAEa61hR8wdte0C7VbrRPQtSUqWyQFkjCkBCWIoaJBhRWyaCiE8qPRt6nPTz3g12ctvdqKWzdv5VYSUqDav8oCy05D6ePyHKPZamYjTLoXIJ2blCskOUWhuGfCaZurt7Qrs0xM+WFLlTZodJ+IoNCycnAUFUA1pHVZSUrQ6DiSQ6TyaOL2EGehCEqZQBITliUFJLAtwqGItz8xorl7W2hIVJSyJiagLHAXIZT/pJJro5eM2PN6dqS0bM2H1KlFmx7Qz+7syUCnAHfSlfWOTWe9D3zIdQUWZNSS7BtzF+9pN42+1KkqKlpYHREtAoONhu+bmlI2vZLshJsSXfvZ7VmEMEv8Aplp0HPM9KQ6MvU2ujM1wW+wncNmXLlfm0UdHcgc+fLSMP+L87CLK+RMx9v8A42fzjpD8/SM92s7OSbZgE0rBSFBJSrC2LC5aoJoMxF5I3GiY5cZWzjkibqFZZfaDcq/SlJDcRyVmzZBsneAd+3cuxTFSpoY5pUPhWnRQ+o0PhA6Tbwc6bF39/vHMl49vaOisirTN2i0okyUzKKJUFYiOI1DhtQ77CM7arzWpIQVUBqQSXIf4iMzXOmZpAmZbA4GF2BzJYVdgDQBy56w2x2pCZiVTDwFQx006RI4K32X6nwT2KWqfNRLRxOoYmYMHSFGprQx0y4+z0qzpmJlj4gCp1Elw+QP0+kOsF3S0Ad2hKd8IGTvXV3MHbLLxAt/qz3y5RzPK8ty9sdL/ACO4cVbMLfFt7t0KSSpJYFIHwuA9fGG2a/5J+ApQWw4VBlEsXVUufDONlbbDLUcMxKSMnPxZbDn4RlL17FOpSkqGE0SD5VpF4cuGSqRcr+AertDZUsRNS5DjhJ9WYHlFC39p5aZau5UTMKWD0Z9Tzzp5wMvC5ZiClB4QFVcUozVyO0VP4LDVQxFyVc8tY6ePDh007MspZLoo22dPmq/NVMUFb/Dv8IYPq0UpkjCfp5PBkWUkByd3/wANR6x4ix4kmhBqxbWpFdHpGxZUkIeNv+Sa7CfiDACmnPUh9oL2aSFBsi1KfLnAm7UkgOobc+btBiQS4Kairh2V6e6xjzNWNx2TLOEEVLF8VciC4b1zhYxhDgA9GJy9vE38N+oh3zH+7nFMhjioCX+J+enpCE7HW0hJViySer1HJvPyh0uelKgpJUGOYoQWLuM2Y5RXmTFOGYYhVsxSmdIqlaio0oaHy+bw/HBydC5ZOKNZIthmyypS2VkembAbNV932itd19olqwjEtNRUAHkoYteRyijdaWJJNPp9olSnGrEzaDcjcxsx/wBNx9yd/gz5PPm9RROmYVKKlF1Gp+XTaCFmB8OcRWezQfuyyamOiklpGFv5Zp7svqcWK8JFAwSBpWum8Hu+C0pUGDg55hiB84zMlOnhBO61HG1WKSN2yL+jeMDKNA2HEVD5+/dIxP4wXz/DXbNSlQEyc0tIGeFRHeKbQYXD7qEbWQ7sxbcx8y/iv2l/jbfMKS8qS8qVsQknEr/Mp/BoAsxsKPIUWUbcgu7VbMaPVNKbisepfOmfLN6gaDXzEIJPDmNcwaFvl9xHi3zGZHWrAk+Ibo5NNBCL11WgCYkKJDLCgXY4g/xbYkkjxjf3Zd67RO7xBCUoWqXOK0uFAEhWAA5qUAc+cYC5bpXaZ6ZKQQVGqi7JRQlauQS+eZbeO3WWSiWkS5dEjLcnVSt1E1MJlhUpcjRDO4w4lizykoSESxhSPM8yTn9KQ4HrDXhpIHxQ1JLoT3tkoPWA/ai0iVJEwkJAWkEk7ump0qRF9VpA0H1gD2znpm2dMl/jmBxySCr54Yp9BLsG9oLvl3jZlSy3eAYpas8KtD0OR3EcPnWKaglJDFLgjYgsR5x1eXZp9kUlaHVLB4k8tW2h/aK55a194kBpgxbg5fPOB/kZH6RyNCVmjee+8HOzlzqVaZRmyypAU5CqCgJTs4duUaY2MS/0JHMCLF3TQJ8oksHIbckUHR4Vn9uKTj9DcSuaUjYmTQAUUoV8Wi3Y0GWlQUXc06Ur6ZRVRaxiZtN3NauR5RPNX6+Lcj0jyGVHW29MsyziXxDKrs8eS1cRBy3OtdH8ejRVm2pQyIAy9CSfo2dIit7JSFDPlWu7a7+ESEeHYDhehW2WhTIUhwzhwDzVTd/dYE2q6JagSqUkqoARw/LN0jxeL8+c4TXR9tnoaZc9YrC18WIkEBnwuRmRnrUdeUaYyn8MiSSAttuSQETFuykooH1JOFIfoB460gALIoJAUgpCqJyq1DTlGrtE5ExJlKCwTwoBBOKrgEsQWwly+WsVbctCcRRiIGJKQWNaYnIJDFyM9RGzHKSWwGkzBYFoWWQQlyaClTm4glYr4lp+IEHYB/XXxjWXDZQUhwKUqBTn1rGhN1yVDiloV/UkF/MR2PQjlimzmvLKEmjn0q+pQXhxDEz5O+sXL9klGATWPey0TkMfiQpwGq1GLjTxjSTOxcu0WiUyEoCXx4QBwEVyoDk3WND2ouGRaO7XgD2SksDLAQkENqE4QR4xX6GP2T9VI5vdtyzJygfhQOsE7bKSiSZaaOCE0fr0/eNbIslAwjF3rO7y0LRLCvy1FJOmIGuHXl4RtxwhjVIzynKbtlBNmyQ3M89hBeyWWJ7JYGHOL8mzk0EPAPLLZ3MGrNLaGSJASGiykQaiBKRYlDbwg1caOMtolvUfP6QElFvCCn/FrNY5Cp9ompRQ0fiLVwpTmpROg5QvIqRS2VfxK7RGwWGZPR/1SRLlGhZav1MdgCfCPlUmNn+Jfbtd5zU4UmXIlvglkglzmtRGpYU0rGLhIbFChQohRuT8IJ5DIf1evPSPFyyHBoRTxz0560zMKFAlnUvw9uoSbJ35bHaC/MITiZzuTU+EaRVrAp6CFCg0gkQrth0p8/OIVTTr5woURoJEUyd71itNINCHG0KFAMNFK95s8SVCzBJmNTEchuHoT1IEZW4+1SVhMi0pImBRCSgcKjsR+ku+VOkKFAMsOSrwkElKkLByIISf91Yf/wCl5c4pXZZoEwEK7tSSl2ILJVUJPp0jyFEcU1ROTWwnaVYEuoMpJrkcmDUiSVMKgaV+Rb9xChR5DJGm19NncX7FL5f/AIRgMeGvMk0/xUy09IaZwYOCeJhpmBWmjER5CiuwX2Q3ge7Lk0+BmoHGfpFCfLP8Os0BPHu6Q5YhmdkkeMKFD4L/ACUpaQ5UxSEIIOMqcpJDBDpS5Y1LivjAWbZinhWoE0JNS+ICgpmKVMKFGiD+AK3YbuOQQmrAD7n1oILWW2IWQmUVEuxIAFduLLwB8I9hR6HH+xHIm/czUWOzd1LqBiNS1egc1LfeAybwMtbmo1hQoJgR2WbTLE+UTZVmTMzBCQUnkUqFPBoy/wDwoSc1Y5hqtTMMRJKvXWFCgodl1ofLlvTKCcizYRzZ4UKNKEyBk3tFZklae8JUjNIQp66OQB6xm77/ABITIYIs7qJyWtjh34QR6mFChLyycqGvFFQsx98fiPbppUJczuZZdky0gKA0eYXVibUERlbTalzDimLUtW6lFR2zPhChRTbYoieFChRRBR7ChRCH/9k=", categoria: "Porções", temAdicionais: true, extraMultiplicador: 1.2, extrasCategoriasPermitidas: ["Carnes","Queijos","Molhos"], extrasBloqueadosIds: [105], opcoesTitulo: "Tamanho", opcoes: [
                { label: "Pequena", preco: 30.00 },
                { label: "Média", preco: 40.00 },
                { label: "Grande", preco: 50.00 }
           
            ] },
            // Bebidas
            { id: 14, nome: "Água Mineral", desc: "Escolha o tipo: com gás ou sem gás.", preco: 5.00, img: "aqua.jpeg", categoria: "Bebidas", opcoes: ["Sem Gás", "Com Gás"] },
            { id: 18, nome: "Refrigerante Lata", desc: "Escolha o sabor: Coca, Guaraná, Fanta, etc. (350ml)", preco: 6.50, img: "refri-lata.jpeg", categoria: "Bebidas", opcoes: ["Coca-Cola", "Guaraná", "Fanta Laranja", "Fanta Uva", "Sprite", "Pepsi"] },
            { id: 21, nome: "Coca-Cola", desc: "Escolha o tamanho: 2L, 1,5L ou 1L.", preco: 17.00, img: "coca2l.jpg", categoria: "Bebidas", opcoes: ["2 Litros (R$ 17,00)", "1,5 Litros (R$ 15,00)", "1 Litro (R$ 10,00)"] },
            { id: 22, nome: "Guaraná", desc: "Escolha o tamanho: 2L ou 1L.", preco: 15.00, img: "guarana.jpg", categoria: "Bebidas", opcoes: ["2 Litros (R$ 15,00)", "1 Litro (R$ 10,00)"] },
            { id: 19, nome: "Suco natural", desc: "Suco natural 300ml", preco: 10.00, img: "data:image/jpeg;base64,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", categoria: "Bebidas", opcoes: ["Morango", "Uva", "Goiaba", "Abacaxi", "Manga", "Maracujá"] },
            { id: 20, nome: "Copo Especial", desc: "Copo especial de suco ou refrigerante.", preco: 3.00, img: "copo-especial.jpg", categoria: "Bebidas" }
        ];

        const adicionais = [
            // Ordem de montagem: Base → Molhos → Carnes → Queijos → Vegetais → Fritos → Molhos finais
            
            // 1. Base (Pão)
            { id: 101, nome: "Pão Gergelim 🍔", preco: 5.00, categoria: "Base", ordem: 1 },
            
            // 2. Molhos Base
            { id: 113, nome: "Maionese verde🌿", preco: 4.00, categoria: "Molhos Base", ordem: 2 },
            { id: 112, nome: "Maionese de bacon🥓", preco: 6.00, categoria: "Molhos Base", ordem: 3 },
            
            // 3. Carnes
            { id: 105, nome: "Burger tradicional🥩", preco: 10.00, categoria: "Carnes", ordem: 4 },
            { id: 120, nome: "Burger especial de linguiça", preco: 10.00, categoria: "Carnes", ordem: 4.5 },
            { id: 123, nome: "Costela desfiada 🥩", preco: 10.00, categoria: "Carnes", ordem: 4.7 },
            { id: 106, nome: "Bacon🥓", preco: 7.00, categoria: "Carnes", ordem: 5 },
            { id: 124, nome: "Ovo 🍳", preco: 5.00, categoria: "Carnes", ordem: 5.5 },
            
            // 4. Queijos
            { id: 107, nome: "Mussarela🧀", preco: 5.00, categoria: "Queijos", ordem: 6 },
            { id: 108, nome: "Cheddar🧀", preco: 6.00, categoria: "Queijos", ordem: 7 },
            
            // 5. Vegetais e Frescos
            { id: 102, nome: "Salada�", preco: 4.00, categoria: "Vegetais", ordem: 8 },
            { id: 121, nome: "Tomate🍅", preco: 2.00, categoria: "Vegetais", ordem: 8.5 },
            { id: 103, nome: "Picles🥒", preco: 4.00, categoria: "Vegetais", ordem: 9 },
            { id: 104, nome: "Cebola Caramelizada🧅", preco: 4.00, categoria: "Vegetais", ordem: 10 },
            { id: 119, nome: "ABACAXI �", preco: 4.00, categoria: "Vegetais", ordem: 11 },
            
            // 6. Fritos e Crocantes
            { id: 109, nome: "Cebola Empanada", preco: 6.00, categoria: "Crocantes", ordem: 12 },
            { id: 110, nome: "Batata Frita🍟", preco: 6.00, categoria: "Crocantes", ordem: 13 },
            
            // 7. Molhos Finais
            { id: 111, nome: "Molho Especial🍯", preco: 5.00, categoria: "Molhos Especiais", ordem: 14 },
            { id: 122, nome: "Molho de maionese de limão defumada🍋🔥", preco: 4.00, categoria: "Molhos Especiais", ordem: 14.5 },
            { id: 114, nome: "Molho Chipotle 🔥", preco: 4.00, categoria: "Molhos Especiais", ordem: 16 },
            { id: 115, nome: "Molho Barbecue🍾", preco: 4.00, categoria: "Molhos" },
            { id: 116, nome: "Mostarda", preco: 4.00, categoria: "Molhos" },
            { id: 117, nome: "Ketchup", preco: 4.00, categoria: "Molhos" }
        ];

        // Converter para formato compatível com o sistema atual
        const products = {
            hamburgueres: produtos.filter(p => p.categoria === "Hambúrgueres").map(p => ({
                id: p.id,
                name: p.nome,
                description: p.desc,
                price: p.preco,
                image: p.img,
                temAdicionais: p.temAdicionais,
                isCustomBurger: p.isCustomBurger,
                opcoes: p.opcoes,
                opcoesTitulo: p.opcoesTitulo
            })),
            combos: produtos.filter(p => p.categoria === "Combos").map(p => ({
                id: p.id,
                name: p.nome,
                description: p.desc,
                price: p.preco,
                image: p.img,
                temAdicionais: p.temAdicionais,
                isCombo: p.isCombo,
                continente: p.continente,
                burgersPermitidos: p.burgersPermitidos,
                opcoes: p.opcoes,
                opcoesTitulo: p.opcoesTitulo
            })),
            porcoes: produtos.filter(p => p.categoria === "Porções").map(p => ({
                id: p.id,
                name: p.nome,
                description: p.desc,
                price: p.preco,
                image: p.img,
                temAdicionais: p.temAdicionais,
                opcoes: p.opcoes,
                opcoesTitulo: p.opcoesTitulo
            })),
            bebidas: produtos.filter(p => p.categoria === "Bebidas").map(p => ({
                id: p.id,
                name: p.nome,
                description: p.desc,
                price: p.preco,
                image: p.img,
                opcoes: p.opcoes
            }))
        };

        // Estado da aplicação
        let cart = [];
        let currentCategory = 'hamburgueres';

        // Elementos DOM
        const productsContainer = document.getElementById('products-container');
        const categoryTabs = document.querySelectorAll('.category-tab');
        const cartButton = document.getElementById('cart-button');
        const cartModal = document.getElementById('cart-modal');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartCount = document.querySelector('.cart-count');
        const checkoutButton = document.getElementById('checkout-button');
        const orderNumberInput = document.getElementById('order-number');
        const customerName = document.getElementById('customer-name');
        const customerPhone = document.getElementById('customer-phone');
        const paymentMethod = document.getElementById('payment-method');
        const orderType = document.getElementById('order-type');
        const addressSection = document.getElementById('address-section');
        const deliveryAddress = document.getElementById('delivery-address');

        // Funções
        function formatPrice(price) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(price);
        }

        function renderProducts(category) {
            productsContainer.innerHTML = '';
            
            products[category].forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                // Adicionar badge de país se tiver bandeira no nome
                let displayName = product.name;
                const paisBadges = {
                    '🇵🇹': '<span class="country-badge" style="background: #006847; color: white;">PT</span>',
                    '🇵🇾': '<span class="country-badge" style="background: #D52B1E; color: white;">PY</span>',
                    '🇨🇱': '<span class="country-badge" style="background: #0039A6; color: white;">CL</span>',
                    '🇫🇷': '<span class="country-badge" style="background: #002395; color: white;">FR</span>',
                    '🇦🇺': '<span class="country-badge" style="background: #012169; color: white;">AU</span>',
                    '🇨🇦': '<span class="country-badge" style="background: #FF0000; color: white;">CA</span>',
                    '🇮🇹': '<span class="country-badge" style="background: #009246; color: white;">IT</span>',
                    '🇦🇷': '<span class="country-badge" style="background: #74ACDF; color: white;">AR</span>',
                    '🇧🇷': '<span class="country-badge" style="background: #009739; color: white;">BR</span>',
                    '🇺🇸': '<span class="country-badge" style="background: #B22234; color: white;">US</span>',
                    '🇬🇧': '<span class="country-badge" style="background: #012169; color: white;">GB</span>',
                    '🇩🇪': '<span class="country-badge" style="background: #000000; color: white;">DE</span>'
                };
                
                Object.keys(paisBadges).forEach(bandeira => {
                    if (displayName.includes(bandeira)) {
                        displayName = displayName.replace(bandeira, paisBadges[bandeira]);
                    }
                });
                
                // Verificar se tem opções especiais
                let opcoesHtml = '';
                if (product.opcoes && product.opcoes.length > 0) {
                    opcoesHtml = `
                        <div class="product-options" style="margin: 10px 0;">
                            <small style="color: var(--text-light); font-weight: bold;">
                                ${product.opcoesTitulo || 'Opções'}:
                            </small>
                            <div style="font-size: 0.8rem; color: var(--text-light); margin-top: 3px;">
                                ${product.opcoes.slice(0, 2).map(opcao => typeof opcao === 'string' ? opcao : opcao.label).join(', ')}${product.opcoes.length > 2 ? '...' : ''}
                            </div>
                        </div>
                    `;
                }
                
                // Verificar se tem adicionais
                let adicionaisIcon = '';
                if (product.temAdicionais) {
                    adicionaisIcon = '<span style="color: var(--primary); font-size: 0.8rem; margin-left: 5px;">+ Extras</span>';
                }
                
                // Preço especial para "Monte seu Burger"
                let precoDisplay = formatPrice(product.price);
                if (product.isCustomBurger) {
                    precoDisplay = '<span style="color: var(--secondary); font-weight: bold;">🛠️ Monte o Seu!</span>';
                } else if (product.price === 0) {
                    precoDisplay = '<span style="color: var(--secondary);">A partir de R$ 15,00</span>';
                }
                
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name.replace(/🇵🇹|🇵🇾|🇨🇱|🇫🇷|🇦🇺|🇨🇦|🇮🇹|🇦🇷|🇧🇷|🇺🇸|🇬🇧|🇩🇪/g, '')}" loading="lazy" onerror="this.src='https://via.placeholder.com/180x180?text=${product.name}'">
                        ${product.temAdicionais ? '<div class="extras-badge">+ Extras</div>' : ''}
                    </div>
                    <div class="product-info">
                        <h3>${displayName} ${adicionaisIcon}</h3>
                        <p>${product.description}</p>
                        ${opcoesHtml}
                        <div class="product-price">
                            <span class="price">${precoDisplay}</span>
                            <button class="add-to-cart" data-id="${product.id}" data-category="${category}">
                                +
                            </button>
                        </div>
                    </div>
                `;
                productsContainer.appendChild(productCard);
            });
            
            // Adicionar event listeners aos botões de adicionar ao carrinho
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    const productId = parseInt(e.currentTarget.getAttribute('data-id'));
                    const category = e.currentTarget.getAttribute('data-category');
                    addToCartWithOptions(productId, category);
                });
            });
        }

        function addToCartWithOptions(productId, category) {
            const product = products[category].find(p => p.id === productId);
            
            // Verificar se é combo especial (America ou Europeu) - precisa escolher hambúrgueres
            if (product.isCombo && category === 'combos') {
                console.log(`🍔 Combo detectado: ${product.name}`);
                showProductOptionsModal(product, category, 'combo'); // 'combo' = abrir seleção de hambúrgueres
                return;
            }
            
            // Verificar se é hambúrguer (sempre mostrar modal de personalização)
            const needsCustomization = category === 'hamburgueres';
            
            // Verificar se é porção com adicionais
            const isPorcaoComAdicionais = category === 'porcoes' && product.temAdicionais;
            
            console.log(`🔍 Debug - Produto: ${product.name}, Categoria: ${category}, isCombo: ${product.isCombo}, temAdicionais: ${product.temAdicionais}, isPorcaoComAdicionais: ${isPorcaoComAdicionais}`);
            
            // Se tem opções E (precisa de personalização OU é porção com adicionais), mostrar opções primeiro
            if (product.opcoes && product.opcoes.length > 0 && (needsCustomization || isPorcaoComAdicionais)) {
                console.log(`✅ Abrindo modal de opções com continueToAdditionals=true`);
                showProductOptionsModal(product, category, true); // true = continuar para adicionais
                return;
            }
            
            // Se tem apenas opções (sem personalização), mostrar modal de opções
            if (product.opcoes && product.opcoes.length > 0) {
                showProductOptionsModal(product, category, false); // false = não continuar
                return;
            }
            
            // Se tem adicionais disponíveis OU é um hambúrguer, mostrar modal de adicionais
            if (product.temAdicionais || needsCustomization) {
                showAdditionalsModal(product, category);
                return;
            }
            
            // Adicionar direto ao carrinho
            addToCart(product, category, {}, [], null, '');
        }

        function addToCart(product, category, selectedOptions = {}, selectedAdditionals = [], pontoCarne = null, observacao = '', quantity = 1) {
            let finalPrice = product.price;
            let itemName = product.name;
            let itemDescription = product.description;
            let itemAdditionals = ''; // Separar adicionais da descrição
            
            // Aplicar preço da opção selecionada (hambúrgueres, porções, bebidas)
            if (selectedOptions.opcao && product.opcoes) {
                const opcaoSelecionada = product.opcoes.find(op => op.label === selectedOptions.opcao || op === selectedOptions.opcao);
                if (opcaoSelecionada && opcaoSelecionada.preco) {
                    finalPrice = opcaoSelecionada.preco;
                    itemName += ` (${selectedOptions.opcao})`;
                } else if (selectedOptions.opcao.includes('R$')) {
                    // Para opções com preço na string
                    const priceMatch = selectedOptions.opcao.match(/R\$ ([\d,]+)/);
                    if (priceMatch) {
                        finalPrice = parseFloat(priceMatch[1].replace(',', '.'));
                        itemName += ` (${selectedOptions.opcao})`;
                    }
                } else {
                    itemName += ` (${selectedOptions.opcao})`;
                }
            }
            
            // Aplicar preço do tamanho selecionado (combos)
            if (selectedOptions.tamanho && product.opcoes) {
                const tamanhoSelecionado = product.opcoes.find(op => op.label === selectedOptions.tamanho);
                if (tamanhoSelecionado && tamanhoSelecionado.preco) {
                    finalPrice = tamanhoSelecionado.preco;
                    itemName += ` (${selectedOptions.tamanho})`;
                }
            }
            
            // Adicionar preço dos adicionais e montar string separada
            if (selectedAdditionals.length > 0) {
                const additionalsTotal = selectedAdditionals.reduce((total, adicional) => {
                    return total + adicional.preco;
                }, 0);
                
                finalPrice += additionalsTotal;
                
                // Para Monte seu Burger, organizar ingredientes por ordem de montagem
                if (product.isCustomBurger) {
                    // Validação: Monte seu Burger deve ter pelo menos um ingrediente
                    if (selectedAdditionals.length === 0) {
                        showToast('Selecione pelo menos um ingrediente para montar seu hambúrguer!', 'error');
                        return;
                    }
                    // Ordenar adicionais por ordem de montagem
                    const sortedAdditionals = [...selectedAdditionals].sort((a, b) => (a.ordem || 99) - (b.ordem || 99));
                    itemAdditionals = sortedAdditionals.map(a => a.nome).join(' + ');
                } else {
                    itemAdditionals = selectedAdditionals.map(a => a.nome).join(' + ');
                }
            }
            
            // Verificar se item já existe no carrinho (com mesmas opções, ponto e observação)
            const cartItemId = `${product.id}_${JSON.stringify(selectedOptions)}_${selectedAdditionals.map(a => a.id).sort().join(',')}_${pontoCarne || 'sem_ponto'}_${observacao || 'sem_obs'}`;
            const existingItem = cart.find(item => item.cartId === cartItemId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    ...product,
                    cartId: cartItemId,
                    name: itemName,
                    description: itemDescription,
                    additionals: itemAdditionals, // String separada para adicionais
                    isCustomBurger: product.isCustomBurger || false,
                    price: finalPrice,
                    quantity: quantity,
                    selectedOptions: selectedOptions,
                    selectedAdditionals: selectedAdditionals,
                    pontoCarne: pontoCarne,
                    observacao: observacao
                });
            }
            
            updateCart();
            
            // Feedback visual moderno
            const button = document.querySelector(`.add-to-cart[data-id="${product.id}"]`);
            if (button) {
                button.innerHTML = '✅';
                button.style.background = '#2B8A4A';
                
                setTimeout(() => {
                    button.innerHTML = '+';
                    button.style.background = '';
                }, 1000);
            }
            
            showToast(`${itemName} adicionado ao carrinho!`, 'success');
        }

        function showProductOptionsModal(product, category, continueToAdditionals = false) {
            console.log(`🎯 DENTRO de showProductOptionsModal - Produto: ${product.name}, continueToAdditionals: ${continueToAdditionals}`);
            console.log(`🎯 Opções disponíveis:`, product.opcoes);
            
            const modal = document.createElement('div');
            modal.className = 'options-modal';
            modal.innerHTML = `
                <div class="options-content">
                    <div class="options-header">
                        <h3>${product.name}</h3>
                        <button class="close-options">&times;</button>
                    </div>
                    <div class="options-body">
                        <p>${product.description}</p>
                        <h4>${product.opcoesTitulo || 'Escolha uma opção'}:</h4>
                        <div class="options-list">
                            ${product.opcoes.map((opcao, index) => `
                                <label class="option-item" style="${product.isCombo ? 'flex-direction: column; align-items: flex-start;' : ''}">
                                    <div style="display: flex; align-items: center; width: 100%;">
                                        <input type="radio" name="product-option" value="${opcao.label || opcao}" ${index === 0 ? 'checked' : ''}>
                                        <span style="flex: 1;">${opcao.label || opcao}</span>
                                        ${opcao.preco ? `<span class="option-price">${formatPrice(opcao.preco)}</span>` : ''}
                                    </div>
                                    ${opcao.desc ? `<small style="color: var(--text-light); margin-left: 30px; margin-top: 5px;">${opcao.desc}</small>` : ''}
                                </label>
                            `).join('')}
                        </div>
                    </div>
                    <div class="options-footer">
                        <button class="btn-cancel">Cancelar</button>
                        <button class="btn-add-option">${continueToAdditionals ? 'Continuar ➜' : 'Adicionar ao Carrinho'}</button>
                    </div>
                </div>
            `;
            
            // Adicionar CSS se não existir
            if (!document.querySelector('#options-modal-styles')) {
                const optionsCSS = document.createElement('style');
                optionsCSS.id = 'options-modal-styles';
                optionsCSS.innerHTML = `
                    .options-modal {
                        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                        background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center;
                        z-index: 10000; backdrop-filter: blur(5px);
                    }
                    .options-content {
                        background: var(--light); border-radius: var(--radius); max-width: 500px;
                        width: 90%; max-height: 80vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                    }
                    @media (max-width: 768px) {
                        .options-content {
                            width: 95%; max-height: 85vh; border-radius: 15px 15px 0 0;
                            margin-top: auto; margin-bottom: 0;
                        }
                        .options-header, .options-body, .options-footer {
                            padding: 15px !important;
                        }
                        .option-item {
                            padding: 15px !important; min-height: 50px;
                        }
                        .btn-cancel, .btn-add-option {
                            padding: 15px !important; font-size: 1rem !important;
                            min-height: 50px;
                        }
                    }
                    .options-header {
                        display: flex; justify-content: space-between; align-items: center;
                        padding: 20px; border-bottom: 1px solid var(--gray-dark);
                    }
                    .options-header h3 { margin: 0; color: var(--dark); }
                    .close-options {
                        background: none; border: none; font-size: 1.5rem; cursor: pointer;
                        color: var(--text-light); padding: 5px;
                    }
                    .options-body { padding: 20px; }
                    .options-body p { margin-bottom: 15px; color: var(--text-light); }
                    .options-body h4 { margin-bottom: 15px; color: var(--dark); }
                    .options-list { display: flex; flex-direction: column; gap: 10px; }
                    .option-item {
                        display: flex; align-items: center; padding: 12px; border: 2px solid var(--gray-dark);
                        border-radius: 8px; cursor: pointer; transition: var(--transition);
                    }
                    .option-item:hover { border-color: var(--primary); }
                    .option-item input[type="radio"] { margin-right: 10px; }
                    .option-item input[type="radio"]:checked + span { color: var(--primary); font-weight: bold; }
                    .option-price { margin-left: auto; font-weight: bold; color: var(--primary); }
                    .options-footer {
                        display: flex; gap: 10px; padding: 20px; border-top: 1px solid var(--gray-dark);
                    }
                    .btn-cancel {
                        flex: 1; padding: 12px; border: 2px solid var(--gray-dark); background: transparent;
                        color: var(--text); border-radius: 8px; cursor: pointer; font-weight: bold;
                    }
                    .btn-add-option {
                        flex: 2; padding: 12px; border: none; background: var(--primary);
                        color: white; border-radius: 8px; cursor: pointer; font-weight: bold;
                    }
                    .btn-add-option:hover { background: var(--primary-dark); }
                `;
                document.head.appendChild(optionsCSS);
            }
            
            document.body.appendChild(modal);
            
            // Event listeners
            modal.querySelector('.close-options').addEventListener('click', () => modal.remove());
            modal.querySelector('.btn-cancel').addEventListener('click', () => modal.remove());
            modal.addEventListener('click', (e) => {
                if (e.target === modal) modal.remove();
            });
            
            modal.querySelector('.btn-add-option').addEventListener('click', () => {
                const selectedRadio = modal.querySelector('input[name="product-option"]:checked');
                const selectedOption = selectedRadio.value;
                modal.remove();
                
                // Se é combo, abrir modal de seleção de hambúrgueres
                if (continueToAdditionals === 'combo' && product.isCombo) {
                    const selectedSize = product.opcoes.find(op => op.label === selectedOption);
                    showBurgerSelectionModal(product, selectedSize);
                    return;
                }
                
                // Se deve continuar para adicionais OU produto tem adicionais, mostrar modal de adicionais
                if (continueToAdditionals || product.temAdicionais) {
                    showAdditionalsModal(product, category, { opcao: selectedOption });
                } else {
                    addToCart(product, category, { opcao: selectedOption }, [], null, '');
                }
            });
        }

        function showBurgerSelectionModal(combo, selectedSize) {
            const modal = document.createElement('div');
            modal.className = 'burger-selection-modal';
            
            // Filtrar hambúrgueres permitidos (apenas versão simples)
            const burgersDisponiveis = products['hamburgueres'].filter(burger => 
                combo.burgersPermitidos.includes(burger.id)
            );
            
            let selectedBurgers = [];
            const maxSelection = selectedSize.qtdBurgers;
            
            modal.innerHTML = `
                <div class="burger-selection-content">
                    <div class="burger-selection-header">
                        <h3>🍔 Escolha seus Hambúrgueres</h3>
                        <button class="close-burger-selection">&times;</button>
                    </div>
                    <div class="burger-selection-body">
                        <div class="combo-info" style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                            <h4 style="margin: 0 0 5px 0;">${combo.name} - ${selectedSize.label}</h4>
                            <p style="margin: 0; font-size: 0.9rem;">${selectedSize.desc}</p>
                            <p style="margin: 10px 0 0 0; font-size: 1.1rem; font-weight: bold;">💰 ${formatPrice(selectedSize.preco)}</p>
                        </div>
                        <p style="color: var(--secondary); font-weight: bold; margin-bottom: 15px;">
                            📍 Selecione ${maxSelection} hambúrguer${maxSelection > 1 ? 'es' : ''} ${combo.continente === 'america' ? 'das Américas' : 'da Europa'}:
                        </p>
                        <div class="burgers-list">
                            ${burgersDisponiveis.map(burger => `
                                <label class="burger-item">
                                    <input type="checkbox" name="burger-select" value="${burger.id}" data-name="${burger.name}">
                                    <div class="burger-item-info">
                                        <span class="burger-name">${burger.name}</span>
                                        <span class="burger-desc">${burger.description}</span>
                                    </div>
                                    <span class="burger-badge">✓</span>
                                </label>
                            `).join('')}
                        </div>
                        <div class="selection-counter" style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <span id="selected-count" style="font-weight: bold; color: var(--primary);">0</span> / ${maxSelection} selecionados
                        </div>
                    </div>
                    <div class="burger-selection-footer">
                        <button class="btn-cancel">Cancelar</button>
                        <button class="btn-confirm-burgers" disabled>Adicionar ao Carrinho</button>
                    </div>
                </div>
            `;
            
            // Adicionar CSS
            if (!document.querySelector('#burger-selection-styles')) {
                const styles = document.createElement('style');
                styles.id = 'burger-selection-styles';
                styles.innerHTML = `
                    .burger-selection-modal {
                        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                        background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center;
                        z-index: 10001; backdrop-filter: blur(5px);
                    }
                    .burger-selection-content {
                        background: var(--light); border-radius: var(--radius); max-width: 600px;
                        width: 90%; max-height: 90vh; overflow-y: auto;
                    }
                    .burger-selection-header {
                        display: flex; justify-content: space-between; align-items: center;
                        padding: 20px; border-bottom: 1px solid var(--gray-dark);
                    }
                    .burger-selection-header h3 { margin: 0; color: var(--dark); }
                    .close-burger-selection {
                        background: none; border: none; font-size: 1.5rem; cursor: pointer;
                        color: var(--text-light); padding: 5px;
                    }
                    .burger-selection-body { padding: 20px; }
                    .burgers-list { display: flex; flex-direction: column; gap: 12px; }
                    .burger-item {
                        display: flex; align-items: center; gap: 12px; padding: 15px;
                        border: 2px solid var(--gray-dark); border-radius: 10px; cursor: pointer;
                        transition: all 0.3s ease; background: white;
                    }
                    .burger-item:hover { border-color: var(--primary); transform: translateX(5px); }
                    .burger-item input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; }
                    .burger-item input[type="checkbox"]:checked ~ .burger-badge {
                        background: var(--primary); color: white;
                    }
                    .burger-item-info { flex: 1; }
                    .burger-name { display: block; font-weight: bold; color: var(--dark); margin-bottom: 4px; }
                    .burger-desc { display: block; font-size: 0.85rem; color: var(--text-light); }
                    .burger-badge {
                        width: 30px; height: 30px; border-radius: 50%; background: var(--gray-dark);
                        display: flex; align-items: center; justify-content: center; color: transparent;
                        transition: all 0.3s ease;
                    }
                    .burger-selection-footer {
                        display: flex; gap: 10px; padding: 20px; border-top: 1px solid var(--gray-dark);
                    }
                    .btn-cancel {
                        flex: 1; padding: 12px; border: 2px solid var(--gray-dark); background: transparent;
                        color: var(--text); border-radius: 8px; cursor: pointer; font-weight: bold;
                    }
                    .btn-confirm-burgers {
                        flex: 2; padding: 12px; border: none; background: var(--primary);
                        color: white; border-radius: 8px; cursor: pointer; font-weight: bold;
                    }
                    .btn-confirm-burgers:disabled {
                        background: var(--gray-dark); cursor: not-allowed; opacity: 0.5;
                    }
                    .btn-confirm-burgers:not(:disabled):hover { background: var(--primary-dark); }
                `;
                document.head.appendChild(styles);
            }
            
            document.body.appendChild(modal);
            
            // Event listeners
            const checkboxes = modal.querySelectorAll('input[type="checkbox"]');
            const confirmBtn = modal.querySelector('.btn-confirm-burgers');
            const counterEl = modal.querySelector('#selected-count');
            
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    selectedBurgers = Array.from(modal.querySelectorAll('input[type="checkbox"]:checked'))
                        .map(cb => ({ id: parseInt(cb.value), nome: cb.dataset.name }));
                    
                    counterEl.textContent = selectedBurgers.length;
                    
                    // Validar seleção
                    if (selectedBurgers.length === maxSelection) {
                        confirmBtn.disabled = false;
                        // Desabilitar checkboxes não selecionados
                        checkboxes.forEach(cb => {
                            if (!cb.checked) cb.disabled = true;
                        });
                    } else {
                        confirmBtn.disabled = true;
                        // Reabilitar todos
                        checkboxes.forEach(cb => cb.disabled = false);
                    }
                });
            });
            
            modal.querySelector('.close-burger-selection').addEventListener('click', () => modal.remove());
            modal.querySelector('.btn-cancel').addEventListener('click', () => modal.remove());
            modal.addEventListener('click', (e) => {
                if (e.target === modal) modal.remove();
            });
            
            confirmBtn.addEventListener('click', () => {
                // Montar descrição do combo
                const burgersNames = selectedBurgers.map(b => b.nome).join(' + ');
                const comboDescription = `${combo.name} ${selectedSize.label}: ${burgersNames} | ${selectedSize.desc}`;
                
                // Adicionar ao carrinho
                addToCart(combo, 'combos', { 
                    tamanho: selectedSize.label, 
                    burgers: selectedBurgers 
                }, [], null, comboDescription);
                
                modal.remove();
                showToast('✅ Combo adicionado ao carrinho!', 'success');
            });
        }

        function showAdditionalsModal(product, category, selectedOptions = {}) {
            const modal = document.createElement('div');
            modal.className = 'additionals-modal';
            
            // Organizar adicionais por categoria
            const adicionaisPorCategoria = {};
            adicionais.forEach(adicional => {
                if (!adicionaisPorCategoria[adicional.categoria]) {
                    adicionaisPorCategoria[adicional.categoria] = [];
                }
                adicionaisPorCategoria[adicional.categoria].push(adicional);
            });
            
            modal.innerHTML = `
                <div class="additionals-content">
                    <div class="additionals-header">
                        <h3>${product.isCustomBurger ? '🛠️ Monte seu Hambúrguer Perfeito!' : `Personalize seu ${product.name}`}</h3>
                        <button class="close-additionals">&times;</button>
                    </div>
                    ${product.isCustomBurger ? `
                        <div class="custom-burger-info" style="background: #f8f9fa; padding: 15px; border-left: 4px solid var(--primary);">
                            <p><strong>🍔 Sequência de Montagem:</strong> Os ingredientes selecionados aparecerão no carrinho na ordem correta de montagem do hambúrguer!</p>
                        </div>
                    ` : ''}
                    <div class="additionals-body">
                        ${(category === 'hamburgueres' || category === 'combos') ? `
                            <div class="additionals-category">
                                <h4>Ponto da Carne</h4>
                                <div class="meat-point-selection">
                                    <label class="meat-point-option">
                                        <input type="radio" name="pontoCarone" value="Mal passado">
                                        <span>Mal passado</span>
                                    </label>
                                    <label class="meat-point-option">
                                        <input type="radio" name="pontoCarone" value="Ao ponto" checked>
                                        <span>Ao ponto</span>
                                    </label>
                                    <label class="meat-point-option">
                                        <input type="radio" name="pontoCarone" value="Bem passado">
                                        <span>Bem passado</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="additionals-category">
                                <h4>Observação</h4>
                                <textarea id="observacao-input" placeholder="Alguma observação especial para seu pedido..." 
                                          style="width: 100%; min-height: 80px; padding: 10px; border: 1px solid var(--gray-dark); 
                                          border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                            </div>
                            
                            <div class="additionals-category">
                                <button class="toggle-additionals-btn" onclick="toggleAdditionalsList(event)">
                                    <span class="toggle-icon">➕</span>
                                    <span class="toggle-text">Adicionar Ingredientes Extras</span>
                                    <span class="selected-count" style="display: none;">(0 selecionados)</span>
                                </button>
                            </div>
                            
                            ${category === 'combos' ? `
                                <div class="additionals-category" style="margin-top: 15px;">
                                    <button class="add-extra-burger-btn" onclick="toggleExtraBurgerList(event)">
                                        <span style="font-size: 1.3rem;">🍔</span>
                                        <span>Adicionar Hambúrguer Extra com 10% OFF</span>
                                        <span class="discount-badge">-10%</span>
                                    </button>
                                    <div class="extra-burger-list-container" style="display: none; margin-top: 15px;">
                                        <p style="color: var(--secondary); font-weight: bold; margin-bottom: 10px;">🎉 Escolha seu hambúrguer extra e ganhe 10% de desconto!</p>
                                        ${produtos.filter(p => p.categoria === "Hambúrgueres").map(burger => `
                                            <label class="additional-item" style="cursor: pointer; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; justify-content: space-between; transition: all 0.3s;">
                                                <input type="checkbox" class="extra-burger-checkbox" value="${burger.id}" data-name="${burger.nome}" data-price="${burger.preco}" data-original-price="${burger.preco}">
                                                <span style="flex: 1; margin: 0 10px;">${burger.nome}</span>
                                                <span class="additional-price" style="text-decoration: line-through; color: #999; margin-right: 8px;">${formatPrice(burger.preco)}</span>
                                                <span class="additional-price" style="color: #28a745; font-weight: bold;">${formatPrice(burger.preco * 0.9)}</span>
                                            </label>
                                        `).join('')}
                                    </div>
                                </div>
                            ` : ''}
                            
                            <div class="additionals-list-container" style="display: none;">
                                ${(() => {
                                    // Separar categorias de molhos e outras
                                    const categoriasMolhos = [];
                                    const categoriasOutras = [];
                                    
                                    Object.keys(adicionaisPorCategoria).forEach(categoria => {
                                        if (categoria.toLowerCase().includes('molho')) {
                                            categoriasMolhos.push(categoria);
                                        } else {
                                            categoriasOutras.push(categoria);
                                        }
                                    });
                                    
                                    let html = '';
                                    
                                    // Primeiro: categorias não-molho
                                    categoriasOutras.forEach(categoria => {
                                        html += `
                                        <div class="additionals-category" data-categoria="${categoria}">
                                            <h4>${categoria}</h4>
                                            <div class="additionals-list">
                                                ${adicionaisPorCategoria[categoria].map(adicional => `
                                                    <div class="additional-item" data-id="${adicional.id}" data-name="${adicional.nome}" data-price="${adicional.preco}" data-categoria="${categoria}">
                                                        <span class="additional-name">${adicional.nome}</span>
                                                        <div class="additional-controls">
                                                            <span class="additional-price">${formatPrice(adicional.preco)}</span>
                                                            <div class="additional-qty-controls">
                                                                <button type="button" class="additional-qty-btn minus" onclick="changeAdditionalQty(this, -1)">−</button>
                                                                <span class="additional-qty">0</span>
                                                                <button type="button" class="additional-qty-btn plus" onclick="changeAdditionalQty(this, 1)">+</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                        `;
                                    });
                                    
                                    // Depois: seção de molhos com seletor único
                                    if (categoriasMolhos.length > 0) {
                                        html += `
                                        <div class="molhos-section" style="border-top: 3px solid var(--primary); padding-top: 20px; margin-top: 20px;">
                                            <div class="molho-location-selector" style="margin-bottom: 20px; background: #fff9f5; padding: 15px; border-radius: 10px; border: 2px dashed var(--primary);">
                                                <label style="display: block; margin-bottom: 12px; font-weight: bold; color: var(--dark); font-size: 1.1rem; text-align: center;">
                                                    🍯 Onde deseja seus molhos?
                                                </label>
                                                <div style="display: flex; gap: 10px;">
                                                    <label class="molho-location-option" style="flex: 1; padding: 12px; border: 2px solid var(--primary); border-radius: 8px; cursor: pointer; text-align: center; transition: all 0.3s; background: white;">
                                                        <input type="radio" name="molho-location-global" value="no-burger" style="margin-right: 5px;">
                                                        <span>🍔 No Burger</span>
                                                    </label>
                                                    <label class="molho-location-option" style="flex: 1; padding: 12px; border: 2px solid var(--secondary); border-radius: 8px; cursor: pointer; text-align: center; transition: all 0.3s; background: white;">
                                                        <input type="radio" name="molho-location-global" value="no-pote" style="margin-right: 5px;">
                                                        <span>🥡 No Pote</span>
                                                    </label>
                                                </div>
                                            </div>
                                            
                                            <div class="molhos-list-container" style="display: none;">
                                        `;
                                        
                                        categoriasMolhos.forEach(categoria => {
                                            html += `
                                            <div class="additionals-category molho-category" data-categoria="${categoria}">
                                                <h4>${categoria}</h4>
                                                <div class="additionals-list">
                                                    ${adicionaisPorCategoria[categoria].map(adicional => `
                                                        <div class="additional-item" data-id="${adicional.id}" data-name="${adicional.nome}" data-price="${adicional.preco}" data-categoria="${categoria}" data-is-molho="true">
                                                            <span class="additional-name">${adicional.nome}</span>
                                                            <div class="additional-controls">
                                                                <span class="additional-price">${formatPrice(adicional.preco)}</span>
                                                                <div class="additional-qty-controls">
                                                                    <button type="button" class="additional-qty-btn minus" onclick="changeAdditionalQty(this, -1)">−</button>
                                                                    <span class="additional-qty">0</span>
                                                                    <button type="button" class="additional-qty-btn plus" onclick="changeAdditionalQty(this, 1)">+</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    `).join('')}
                                                </div>
                                            </div>
                                            `;
                                        });
                                        
                                        html += `
                                            </div>
                                        </div>
                                        `;
                                    }
                                    
                                    return html;
                                })()}
                            </div>
                        ` : ''}
                    </div>
                    <div class="additionals-footer">
                        <div class="quantity-selector" style="display: flex; align-items: center; gap: 10px;">
                            <label>Quantidade:</label>
                            <button type="button" class="qty-btn" onclick="changeModalQuantity(-1)">-</button>
                            <span id="modal-quantity" style="min-width: 30px; text-align: center; font-weight: bold;">1</span>
                            <button type="button" class="qty-btn" onclick="changeModalQuantity(1)">+</button>
                        </div>
                        <div class="total-preview">
                            <span>Total: <strong id="modal-total">${formatPrice(selectedOptions.opcao && product.opcoes ? (product.opcoes.find(o => (o.label || o) === selectedOptions.opcao)?.preco || product.price) : product.price)}</strong></span>
                        </div>
                        <button class="btn-cancel">Cancelar</button>
                        <button class="btn-add-additionals">Adicionar ao Carrinho</button>
                    </div>
                `;
            
            // CSS para modal de adicionais
            if (!document.querySelector('#additionals-modal-styles')) {
                const additionalsCSS = document.createElement('style');
                additionalsCSS.id = 'additionals-modal-styles';
                additionalsCSS.innerHTML = `
                    .additionals-modal {
                        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                        background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center;
                        z-index: 10000; -webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px);
                    }
                    .additionals-content {
                        background: var(--light); border-radius: var(--radius); max-width: 600px;
                        width: 90%; max-height: 80vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                    }
                    @media (max-width: 768px) {
                        .additionals-content {
                            width: 95%; max-height: 85vh; border-radius: 15px 15px 0 0;
                            margin-top: auto; margin-bottom: 0;
                        }
                        .additionals-header, .additionals-body, .additionals-footer {
                            padding: 15px !important;
                        }
                        .additional-item, .meat-point-option {
                            padding: 15px !important; min-height: 50px;
                        }
                        .additionals-footer {
                            flex-direction: column; gap: 15px !important;
                        }
                        .btn-cancel, .btn-add-additionals {
                            width: 100%; padding: 15px !important; font-size: 1rem !important;
                            min-height: 50px;
                        }
                        .total-preview {
                            text-align: center; font-size: 1.2rem !important;
                        }
                    }
                    .additionals-header {
                        display: flex; justify-content: space-between; align-items: center;
                        padding: 20px; border-bottom: 1px solid var(--gray-dark);
                    }
                    .additionals-header h3 { margin: 0; color: var(--dark); }
                    .close-additionals {
                        background: none; border: none; font-size: 1.5rem; cursor: pointer;
                        color: var(--text-light); padding: 5px;
                    }
                    .additionals-body { padding: 20px; }
                    .additionals-category { margin-bottom: 25px; }
                    .additionals-category h4 {
                        color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;
                        padding-bottom: 5px; border-bottom: 2px solid var(--gray-dark);
                    }
                    .additionals-list, .molho-items-list { display: flex; flex-direction: column; gap: 8px; }
                    .molho-location-option {
                        transition: all 0.3s ease;
                    }
                    .molho-location-option:has(input:checked) {
                        background: linear-gradient(135deg, var(--primary), #ff8533) !important;
                        color: white !important;
                        transform: scale(1.05);
                        box-shadow: 0 4px 12px rgba(255, 106, 19, 0.4);
                    }
                    .molho-location-option:has(input:checked) span {
                        color: white !important;
                        font-weight: bold;
                    }
                    .molho-location-option input[type="radio"] {
                        accent-color: white;
                    }
                    .additional-item {
                        display: flex; align-items: center; justify-content: space-between;
                        padding: 12px; border: 1px solid var(--gray-dark);
                        border-radius: 8px; transition: var(--transition);
                        background: white;
                    }
                    .additional-item:hover { border-color: var(--primary); background: rgba(255, 106, 19, 0.05); }
                    .additional-item.has-qty { border-color: var(--primary); background: rgba(255, 106, 19, 0.05); }
                    .additional-name { flex: 1; font-weight: 500; }
                    .additional-controls { display: flex; align-items: center; gap: 15px; }
                    .additional-price { font-weight: bold; color: var(--primary); min-width: 60px; text-align: right; }
                    .additional-qty-controls {
                        display: flex; align-items: center; gap: 8px;
                        background: #f8f9fa; padding: 4px 8px; border-radius: 20px;
                    }
                    .additional-qty-btn {
                        background: var(--primary); color: white; border: none; border-radius: 50%;
                        width: 28px; height: 28px; cursor: pointer; font-weight: bold; font-size: 1.1rem;
                        display: flex; align-items: center; justify-content: center; transition: var(--transition);
                        line-height: 1;
                    }
                    .additional-qty-btn:hover { background: var(--primary-dark); transform: scale(1.1); }
                    .additional-qty-btn:active { transform: scale(0.95); }
                    .additional-qty {
                        min-width: 25px; text-align: center; font-weight: bold; font-size: 1rem;
                        color: var(--dark);
                    }
                    .additionals-footer {
                        display: flex; gap: 10px; padding: 20px; border-top: 1px solid var(--gray-dark);
                        align-items: center;
                    }
                    .total-preview { flex: 1; font-size: 1.1rem; }
                    .btn-cancel {
                        padding: 12px 20px; border: 2px solid var(--gray-dark); background: transparent;
                        color: var(--text); border-radius: 8px; cursor: pointer; font-weight: bold;
                    }
                    .btn-add-additionals {
                        padding: 12px 20px; border: none; background: var(--primary);
                        color: white; border-radius: 8px; cursor: pointer; font-weight: bold;
                    }
                    .btn-add-additionals:hover { background: var(--primary-dark); }
                    .meat-point-selection { display: flex; flex-direction: column; gap: 8px; }
                    .meat-point-option {
                        display: flex; align-items: center; padding: 12px; border: 2px solid var(--gray-dark);
                        border-radius: 8px; cursor: pointer; transition: var(--transition);
                        background: white; font-weight: 600;
                    }
                    .meat-point-option:hover { border-color: var(--primary); background: rgba(255, 106, 19, 0.05); }
                    .meat-point-option input[type="radio"] { margin-right: 10px; }
                    .meat-point-option input[type="radio"]:checked + span { color: var(--primary); }
                    .qty-btn {
                        background: var(--primary); color: white; border: none; border-radius: 4px;
                        width: 30px; height: 30px; cursor: pointer; font-weight: bold; font-size: 1rem;
                        display: flex; align-items: center; justify-content: center; transition: var(--transition);
                    }
                    .qty-btn:hover { background: var(--primary-dark); transform: scale(1.1); }
                    
                    /* Botão toggle de adicionais */
                    .toggle-additionals-btn {
                        width: 100%; padding: 15px; border: 2px solid var(--primary); 
                        background: linear-gradient(135deg, var(--primary), #FF8533);
                        color: white; border-radius: 12px; cursor: pointer; font-weight: bold;
                        font-size: 1.1rem; transition: all 0.3s ease;
                        display: flex; align-items: center; justify-content: center; gap: 10px;
                        box-shadow: 0 4px 12px rgba(255, 106, 19, 0.3);
                        position: relative;
                        animation: pulseAttention 2s ease-in-out infinite;
                    }
                    
                    /* Animação de pulso para chamar atenção */
                    @keyframes pulseAttention {
                        0%, 100% {
                            transform: scale(1);
                            box-shadow: 0 4px 12px rgba(255, 106, 19, 0.3);
                        }
                        50% {
                            transform: scale(1.02);
                            box-shadow: 0 6px 20px rgba(255, 106, 19, 0.6);
                        }
                    }
                    
                    /* Efeito de brilho animado */
                    .toggle-additionals-btn::before {
                        content: '';
                        position: absolute;
                        top: -50%;
                        left: -50%;
                        width: 200%;
                        height: 200%;
                        background: linear-gradient(
                            45deg,
                            transparent 30%,
                            rgba(255, 255, 255, 0.3) 50%,
                            transparent 70%
                        );
                        animation: shine 3s ease-in-out infinite;
                        pointer-events: none;
                    }
                    
                    @keyframes shine {
                        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
                        100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
                    }
                    
                    .toggle-additionals-btn:hover {
                        background: linear-gradient(135deg, var(--primary-dark), var(--primary));
                        transform: translateY(-2px) scale(1.05);
                        box-shadow: 0 8px 24px rgba(255, 106, 19, 0.5);
                        animation: none;
                    }
                    .toggle-additionals-btn.active {
                        background: linear-gradient(135deg, var(--secondary), var(--secondary-dark));
                        border-color: var(--secondary);
                    }
                    .toggle-icon {
                        font-size: 1.3rem;
                        transition: transform 0.3s ease;
                    }
                    .toggle-additionals-btn.active .toggle-icon {
                        transform: rotate(45deg);
                    }
                    .selected-count {
                        background: white;
                        color: var(--primary);
                        padding: 2px 10px;
                        border-radius: 20px;
                        font-size: 0.9rem;
                        font-weight: bold;
                    }
                    .additionals-list-container {
                        animation: slideDown 0.3s ease;
                        overflow: hidden;
                    }
                    
                    /* Botão de hambúrguer extra com desconto */
                    .add-extra-burger-btn {
                        width: 100%;
                        padding: 15px;
                        border: 2px solid #28a745;
                        background: linear-gradient(135deg, #28a745, #20c997);
                        color: white;
                        border-radius: 12px;
                        cursor: pointer;
                        font-weight: bold;
                        font-size: 1.1rem;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 10px;
                        box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
                        position: relative;
                        animation: pulseGreen 2.5s ease-in-out infinite;
                        transition: all 0.3s ease;
                    }
                    
                    @keyframes pulseGreen {
                        0%, 100% {
                            transform: scale(1);
                            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
                        }
                        50% {
                            transform: scale(1.02);
                            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.6);
                        }
                    }
                    
                    .add-extra-burger-btn::before {
                        content: '';
                        position: absolute;
                        top: -50%;
                        left: -50%;
                        width: 200%;
                        height: 200%;
                        background: linear-gradient(
                            45deg,
                            transparent 30%,
                            rgba(255, 255, 255, 0.3) 50%,
                            transparent 70%
                        );
                        animation: shine 3s ease-in-out infinite;
                        pointer-events: none;
                    }
                    
                    .add-extra-burger-btn:hover {
                        background: linear-gradient(135deg, #20c997, #28a745);
                        transform: translateY(-2px) scale(1.05);
                        box-shadow: 0 8px 24px rgba(40, 167, 69, 0.5);
                        animation: none;
                    }
                    
                    .add-extra-burger-btn .discount-badge {
                        background: white;
                        color: #28a745;
                        padding: 2px 8px;
                        border-radius: 5px;
                        font-size: 0.9rem;
                        font-weight: bold;
                    }
                    
                    @keyframes slideDown {
                        from { opacity: 0; max-height: 0; }
                        to { opacity: 1; max-height: 2000px; }
                    }
                `;
                document.head.appendChild(additionalsCSS);
            }
            
            document.body.appendChild(modal);
            
            // Controle de quantidade no modal
            let modalQuantity = 1;
            
            window.changeModalQuantity = function(change) {
                modalQuantity = Math.max(1, modalQuantity + change);
                modal.querySelector('#modal-quantity').textContent = modalQuantity;
                updateTotal();
            };
            
            // Função para controlar quantidade de adicionais
            window.changeAdditionalQty = function(button, change) {
                const item = button.closest('.additional-item');
                const qtySpan = item.querySelector('.additional-qty');
                let currentQty = parseInt(qtySpan.textContent);
                
                const isMolho = item.dataset.isMolho === 'true';
                
                // Se for molho e estiver aumentando a quantidade, capturar o local escolhido AGORA
                if (isMolho && change > 0) {
                    const molhoLocationGlobal = modal.querySelector('input[name="molho-location-global"]:checked');
                    
                    if (!molhoLocationGlobal) {
                        alert('⚠️ Por favor, escolha onde deseja o molho antes de adicioná-lo!');
                        return;
                    }
                    
                    const localEscolhido = molhoLocationGlobal.value === 'no-burger' ? 'No Burger' : 'No Pote';
                    
                    // Inicializar array de locais se não existir
                    if (!item.dataset.molhoLocais) {
                        item.dataset.molhoLocais = JSON.stringify([]);
                    }
                    
                    // Adicionar o local escolhido ao array
                    const locais = JSON.parse(item.dataset.molhoLocais);
                    locais.push(localEscolhido);
                    item.dataset.molhoLocais = JSON.stringify(locais);
                }
                
                // Se diminuindo quantidade, remover o último local
                if (isMolho && change < 0 && currentQty > 0) {
                    if (item.dataset.molhoLocais) {
                        const locais = JSON.parse(item.dataset.molhoLocais);
                        locais.pop();
                        item.dataset.molhoLocais = JSON.stringify(locais);
                    }
                }
                
                currentQty = Math.max(0, currentQty + change);
                qtySpan.textContent = currentQty;
                
                // Se quantidade for 0, limpar os locais salvos
                if (currentQty === 0 && isMolho) {
                    delete item.dataset.molhoLocais;
                }
                
                // Adicionar classe visual se quantidade > 0
                if (currentQty > 0) {
                    item.classList.add('has-qty');
                    
                    // Mostrar indicador visual dos locais do molho
                    if (isMolho && item.dataset.molhoLocais) {
                        const locais = JSON.parse(item.dataset.molhoLocais);
                        const countBurger = locais.filter(l => l === 'No Burger').length;
                        const countPote = locais.filter(l => l === 'No Pote').length;
                        
                        // Remover badge existente
                        const existingBadge = item.querySelector('.molho-local-badge');
                        if (existingBadge) existingBadge.remove();
                        
                        if (countBurger > 0 || countPote > 0) {
                            const badge = document.createElement('span');
                            badge.className = 'molho-local-badge';
                            let badgeText = '';
                            if (countBurger > 0) badgeText += `🍔×${countBurger}`;
                            if (countPote > 0) badgeText += (badgeText ? ' ' : '') + `🥡×${countPote}`;
                            badge.textContent = badgeText;
                            badge.style.cssText = 'margin-left: 8px; padding: 2px 6px; background: var(--primary); color: white; border-radius: 4px; font-size: 0.75rem;';
                            item.querySelector('.additional-name').appendChild(badge);
                        }
                    }
                } else {
                    item.classList.remove('has-qty');
                    // Remover badge visual
                    const badge = item.querySelector('.molho-local-badge');
                    if (badge) badge.remove();
                }
                
                updateTotal();
                updateSelectedCount();
            };
            
            // Função para expandir/colapsar lista de adicionais
            window.toggleAdditionalsList = function(event) {
                event.preventDefault();
                const button = event.currentTarget;
                const container = modal.querySelector('.additionals-list-container');
                const icon = button.querySelector('.toggle-icon');
                const text = button.querySelector('.toggle-text');
                
                if (container.style.display === 'none') {
                    container.style.display = 'block';
                    icon.textContent = '➖';
                    text.textContent = 'Ocultar Ingredientes Extras';
                } else {
                    container.style.display = 'none';
                    icon.textContent = '➕';
                    text.textContent = 'Adicionar Ingredientes Extras';
                }
            };
            
            // Função para expandir/colapsar lista de hambúrgueres extras com desconto
            window.toggleExtraBurgerList = function(event) {
                event.preventDefault();
                const container = modal.querySelector('.extra-burger-list-container');
                if (container.style.display === 'none') {
                    container.style.display = 'block';
                } else {
                    container.style.display = 'none';
                }
            };
            
            // Atualizar total em tempo real
            function updateTotal() {
                const additionalItems = modal.querySelectorAll('.additional-item');
                const extraBurgerCheckboxes = modal.querySelectorAll('.extra-burger-checkbox:checked');
                
                // Buscar preço da opção selecionada (Simples ou Duplo)
                let unitPrice = product.price;
                if (selectedOptions.opcao && product.opcoes && product.opcoes.length > 0) {
                    const opcaoSelecionada = product.opcoes.find(o => (o.label || o) === selectedOptions.opcao);
                    if (opcaoSelecionada && opcaoSelecionada.preco) {
                        unitPrice = opcaoSelecionada.preco;
                    }
                }
                
                // Adicionar ingredientes extras normais (com quantidade)
                additionalItems.forEach(item => {
                    const qty = parseInt(item.querySelector('.additional-qty').textContent);
                    if (qty > 0) {
                        const price = parseFloat(item.dataset.price);
                        unitPrice += price * qty;
                    }
                });
                
                // Adicionar hambúrgueres extras com 10% de desconto
                extraBurgerCheckboxes.forEach(checkbox => {
                    const originalPrice = parseFloat(checkbox.dataset.originalPrice);
                    unitPrice += originalPrice * 0.9; // 10% de desconto
                });
                
                const totalPrice = unitPrice * modalQuantity;
                modal.querySelector('#modal-total').textContent = formatPrice(totalPrice);
            }
            
            // Event listeners
            modal.querySelector('.close-additionals').addEventListener('click', () => modal.remove());
            modal.querySelector('.btn-cancel').addEventListener('click', () => modal.remove());
            modal.addEventListener('click', (e) => {
                if (e.target === modal) modal.remove();
            });
            
            // Event listener para seleção de local do molho
            modal.querySelectorAll('.molho-location-option input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    const molhosList = modal.querySelector('.molhos-list-container');
                    
                    if (molhosList) {
                        molhosList.style.display = 'block';
                        
                        // Scroll suave até a lista de molhos
                        setTimeout(() => {
                            molhosList.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                        }, 100);
                    }
                });
            });
            
            // Event listener para checkboxes de hambúrgueres extras
            modal.querySelectorAll('.extra-burger-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    updateTotal();
                });
            });
            
            // Função para atualizar contador de selecionados
            function updateSelectedCount() {
                const additionalItems = modal.querySelectorAll('.additional-item');
                let totalCount = 0;
                
                additionalItems.forEach(item => {
                    const qty = parseInt(item.querySelector('.additional-qty').textContent);
                    totalCount += qty;
                });
                
                const countElement = modal.querySelector('.selected-count');
                const toggleBtn = modal.querySelector('.toggle-additionals-btn');
                
                if (totalCount > 0) {
                    countElement.style.display = 'inline-block';
                    countElement.textContent = `(${totalCount} ${totalCount === 1 ? 'item' : 'itens'})`;
                    toggleBtn.classList.add('active');
                } else {
                    countElement.style.display = 'none';
                    toggleBtn.classList.remove('active');
                }
            }
            
            modal.querySelector('.btn-add-additionals').addEventListener('click', () => {
                const selectedAdditionals = [];
                const additionalItems = modal.querySelectorAll('.additional-item');
                const extraBurgerCheckboxes = modal.querySelectorAll('.extra-burger-checkbox:checked');
                
                // Coletar adicionais com quantidade
                additionalItems.forEach(item => {
                    const qty = parseInt(item.querySelector('.additional-qty').textContent);
                    if (qty > 0) {
                        const adicionalId = parseInt(item.dataset.id);
                        const adicionalInfo = adicionais.find(a => a.id === adicionalId);
                        const isMolho = item.dataset.isMolho === 'true';
                        
                        // Para molhos, processar cada local individualmente
                        if (isMolho && item.dataset.molhoLocais) {
                            const locais = JSON.parse(item.dataset.molhoLocais);
                            locais.forEach(local => {
                                selectedAdditionals.push({
                                    id: adicionalId,
                                    nome: `${item.dataset.name} (${local})`,
                                    preco: parseFloat(item.dataset.price),
                                    ordem: adicionalInfo ? adicionalInfo.ordem : 99
                                });
                            });
                        } else {
                            // Para não-molhos, adicionar múltiplas vezes se quantidade > 1
                            for (let i = 0; i < qty; i++) {
                                selectedAdditionals.push({
                                    id: adicionalId,
                                    nome: item.dataset.name,
                                    preco: parseFloat(item.dataset.price),
                                    ordem: adicionalInfo ? adicionalInfo.ordem : 99
                                });
                            }
                        }
                    }
                });
                
                // Adicionar hambúrgueres extras com 10% de desconto
                extraBurgerCheckboxes.forEach(checkbox => {
                    const originalPrice = parseFloat(checkbox.dataset.originalPrice);
                    const discountedPrice = originalPrice * 0.9;
                    selectedAdditionals.push({
                        id: parseInt(checkbox.value),
                        nome: `${checkbox.dataset.name} (10% OFF)`,
                        preco: discountedPrice,
                        ordem: 1 // Hambúrguer extra vai no início
                    });
                });
                
                // Capturar o ponto da carne selecionado
                let pontoCarne = 'Ao ponto';
                if (category === 'hamburgueres' || category === 'combos') {
                    const pontoRadio = modal.querySelector('input[name="pontoCarone"]:checked');
                    if (pontoRadio) {
                        pontoCarne = pontoRadio.value;
                    }
                }
                
                // Capturar observação
                let observacao = '';
                if (category === 'hamburgueres' || category === 'combos') {
                    const obsInput = modal.querySelector('#observacao-input');
                    if (obsInput) {
                        observacao = obsInput.value.trim();
                    }
                }
                
                // Capturar quantidade
                const quantity = modalQuantity;
                
                modal.remove();
                addToCart(product, category, selectedOptions, selectedAdditionals, pontoCarne, observacao, quantity);
            });
            
            // Inicializar total
            updateTotal();
        }

        function updateCart() {
            // Atualizar contador do carrinho
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // Atualizar lista de itens no modal
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; padding: 2rem;">Seu carrinho está vazio</p>';
                cartTotal.textContent = formatPrice(0);
                return;
            }
            
            let total = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="item-info">
                        <h4>${item.name}</h4>
                        <p style="font-size: 0.85rem; color: var(--text-light); margin: 3px 0;">
                            ${item.description ? item.description.substring(0, 60) + (item.description.length > 60 ? '...' : '') : ''}
                        </p>
                        ${item.selectedAdditionals && item.selectedAdditionals.length > 0 ? 
                            `<div style="font-size: 0.8rem; color: var(--primary); margin: 5px 0; padding: 5px; background: rgba(255, 106, 19, 0.1); border-radius: 4px;">
                                <strong>Adicionais:</strong><br>
                                ${item.selectedAdditionals.map(a => `• ${a.nome} (+${formatPrice(a.preco)})`).join('<br>')}
                            </div>` 
                            : ''
                        }
                        ${item.pontoCarne && item.pontoCarne !== 'Ao ponto' ? 
                            `<p style="font-size: 0.8rem; color: var(--secondary);">🥩 Ponto: ${item.pontoCarne}</p>` 
                            : ''
                        }
                        ${item.observacao ? 
                            `<p style="font-size: 0.8rem; color: var(--secondary);">📝 Obs: ${item.observacao}</p>` 
                            : ''
                        }
                        <p><strong>${formatPrice(item.price)} x ${item.quantity}</strong></p>
                    </div>
                    <div class="item-controls">
                        <div class="item-price">${formatPrice(itemTotal)}</div>
                        <div class="quantity-controls" style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
                            <button class="qty-btn" onclick="changeQuantity(${index}, -1)">-</button>
                            <span style="min-width: 20px; text-align: center;">${item.quantity}</span>
                            <button class="qty-btn" onclick="changeQuantity(${index}, 1)">+</button>
                            <button class="remove-btn" onclick="removeFromCart(${index})" style="margin-left: 8px;">🗑️</button>
                        </div>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = formatPrice(total);
        }

        function changeQuantity(itemIndex, change) {
            if (cart[itemIndex]) {
                cart[itemIndex].quantity += change;
                
                if (cart[itemIndex].quantity <= 0) {
                    cart.splice(itemIndex, 1);
                }
                
                updateCart();
                showToast('Quantidade atualizada!', 'info');
            }
        }

        function removeFromCart(itemIndex) {
            if (cart[itemIndex]) {
                const itemName = cart[itemIndex].name;
                cart.splice(itemIndex, 1);
                updateCart();
                showToast(`${itemName} removido do carrinho!`, 'info');
            }
        }

        function checkout() {
            if (cart.length === 0) {
                showToast('Seu carrinho está vazio!', 'error');
                return;
            }
            
            // Validação adicional: verificar se há itens com preço inválido
            const invalidItems = cart.filter(item => item.price <= 0);
            if (invalidItems.length > 0) {
                showToast('Erro: Há itens no carrinho com preço inválido. Remova e adicione novamente.', 'error');
                return;
            }

            // Verificar se o botão está desabilitado
            if (checkoutButton.classList.contains('disabled')) {
                showToast('Preencha todos os campos obrigatórios!', 'error');
                return;
            }
            
            // Limpar erros anteriores
            customerName.classList.remove('error');
            customerPhone.classList.remove('error');
            paymentMethod.classList.remove('error');
            orderType.classList.remove('error');
            
            // Validar nome
            const nameValue = customerName.value.trim();
            if (!nameValue) {
                customerName.classList.add('error');
                customerName.focus();
                showToast('Por favor, informe seu nome!', 'error');
                return;
            }
            
            // Validar telefone
            const phoneValue = customerPhone.value.trim();
            if (!phoneValue) {
                customerPhone.classList.add('error');
                customerPhone.focus();
                showToast('Por favor, informe seu telefone!', 'error');
                return;
            }
            
            // Validar formato do telefone (aceitar vários formatos)
            const phoneClean = phoneValue.replace(/\D/g, '');
            if (phoneClean.length < 10 || phoneClean.length > 11) {
                customerPhone.classList.add('error');
                customerPhone.focus();
                showToast('Telefone inválido! Digite um telefone válido.', 'error');
                return;
            }
            
            // Validar seleção de pagamento
            const selectedPayment = paymentMethod.value;
            if (!selectedPayment) {
                paymentMethod.classList.add('error');
                paymentMethod.focus();
                showToast('Por favor, selecione a forma de pagamento!', 'error');
                return;
            }
            
            // Validar tipo de pedido
            const selectedOrderType = orderType.value;
            if (!selectedOrderType) {
                orderType.classList.add('error');
                orderType.focus();
                showToast('Por favor, selecione o tipo de pedido!', 'error');
                return;
            }
            
            // Validar endereço se for entrega
            if (selectedOrderType === 'entrega') {
                const address = deliveryAddress.value.trim();
                if (!address) {
                    deliveryAddress.classList.add('error');
                    deliveryAddress.focus();
                    showToast('Por favor, informe o endereço para entrega!', 'error');
                    return;
                } else {
                    deliveryAddress.classList.remove('error');
                }
            }
            
            // Montar mensagem para WhatsApp
            let message = `*NOVO PEDIDO - GO BURGER*%0A%0A`;
            
            // Informações do cliente
            message += `*Cliente:* ${nameValue}%0A`;
            message += `*Telefone:* ${phoneValue}%0A%0A`;
            
            // Informações do pedido
            const orderTypes = {
                'entrega': '🚴‍♂️ Entrega',
                'retirada': '🏪 Retirada no Local',
                'mesa': '🍽️ Consumo na Mesa'
            };
            
            const paymentTypes = {
                'dinheiro': '💵 Dinheiro',
                'cartao-debito': '💳 Cartão de Débito',
                'cartao-credito': '💳 Cartão de Crédito',
                'pix': '📱 PIX'
            };
            
            message += `*Tipo:* ${orderTypes[selectedOrderType]}%0A`;
            message += `*Pagamento:* ${paymentTypes[selectedPayment]}%0A`;
            
            if (selectedOrderType === 'entrega') {
                message += `*Endereço:* ${deliveryAddress.value.trim()}%0A`;
            }
            
            message += `%0A*Itens do pedido:*%0A`;
            

            let total = 0;
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                let itemLine = `➤ ${item.quantity}x ${item.name}`;

                // Incluir ponto da carne se disponível
                if (item.pontoCarne) {
                    itemLine += ` (${item.pontoCarne})`;
                }

                // Incluir adicionais/ingredientes
                if (item.additionals) {
                    if (item.isCustomBurger) {
                        // Para Monte seu Burger, mostrar como sequência de montagem
                        itemLine += `%0A   📝 Ingredientes: ${item.additionals}`;
                    } else {
                        // Para hambúrgueres prontos, mostrar como adicionais
                        itemLine += `%0A   ➕ Adicionais: ${item.additionals}`;
                    }
                }

                // Incluir observação se disponível
                if (item.observacao) {
                    itemLine += `%0A   💬 Obs: ${item.observacao}`;
                }

                itemLine += `%0A   💰 ${formatPrice(itemTotal)}%0A`;
                message += itemLine;
            });

            // Adicionar taxa de entrega se for entrega
            let deliveryFee = 0;
            if (selectedOrderType === 'entrega') {
                deliveryFee = 10.00;
                message += `%0A🚚 *Taxa de Entrega:* ${formatPrice(deliveryFee)}%0A`;
            }

            const totalWithDelivery = total + deliveryFee;
            message += `%0A*Total: ${formatPrice(totalWithDelivery)}*%0A`;
            
            // Adicionar link de localização se for entrega e tiver salvo
            if (selectedOrderType === 'entrega' && customerData && customerData.localizacao) {
                message += `%0A📍 *Localização:* ${customerData.localizacao}%0A`;
            }
            
            message += `%0A_Pedido realizado através do site GO BURGER_`;
            
            // Número do WhatsApp da loja
            const whatsappLoja = '556699122668';
            
            // Formatar telefone do cliente para WhatsApp (55 + DDD + número)
            const customerPhoneClean = phoneValue.replace(/\D/g, '');
            const customerWhatsApp = customerPhoneClean.startsWith('55') ? customerPhoneClean : '55' + customerPhoneClean;
            
            // Preparar dados para o PDV (estrutura compatível com Sistema PDV)
            const orderDataPDV = {
                timestamp: new Date().toISOString(),
                timestampLegivel: new Date().toLocaleString('pt-BR'),
                origem: 'CARDAPIO_DIGITAL',
                status: 'pendente',
                cliente: {
                    nome: nameValue,
                    telefone: customerWhatsApp,
                    endereco: selectedOrderType === 'entrega' ? deliveryAddress.value.trim() : '',
                    localizacao: (selectedOrderType === 'entrega' && customerData) ? customerData.localizacao : '',
                    bairro: ''
                },
                itens: cart.map(item => ({
                    nome: item.name,
                    quantidade: item.quantity,
                    precoUnitario: item.price,
                    precoTotal: item.price * item.quantity,
                    observacao: item.observacao || '',
                    pontoCarne: item.pontoCarne || '',
                    descricao: item.description || '',
                    adicionais: item.additionals || '',
                    isCustomBurger: item.isCustomBurger || false
                })),
                valores: {
                    subtotal: total,
                    taxaEntrega: deliveryFee,
                    desconto: 0,
                    total: totalWithDelivery
                },
                pagamento: {
                    metodo: paymentTypes[selectedPayment],
                    status: 'pendente'
                },
                entrega: {
                    tipo: selectedOrderType,
                    endereco: selectedOrderType === 'entrega' ? deliveryAddress.value.trim() : ''
                }
            };

            console.log('📋 Dados do pedido para PDV:', orderDataPDV);

            // Enviar para o PDV via Firebase (não bloqueia o WhatsApp)
            sendOrderToPDV(orderDataPDV).then(orderId => {
                if (orderId) {
                    console.log('%c✅ Pedido registrado no Sistema PDV: ' + orderId, 'color: #059669; font-weight: bold;');
                    showToast('✅ Pedido registrado no Sistema PDV!', 'success');
                    
                    // 🎁 SISTEMA DE FICHAS: Salvar telefone na sessão e adicionar fichas
                    const customerPhoneFichas = phoneValue.replace(/\D/g, '');
                    localStorage.setItem('customer_phone', customerPhoneFichas);
                    addFichasToCustomer(customerPhoneFichas, 0, `📦 Pedido realizado - R$ ${total.toFixed(2)}`);
                    console.log('🎁 Telefone salvo na sessão e fichas adicionadas ao cliente!');
                } else {
                    console.log('%c⚠️ PDV não registrou o pedido (Firebase offline)', 'color: #f59e0b; font-weight: bold;');
                }
            }).catch(error => {
                console.error('❌ Erro ao enviar para PDV:', error);
            });
            
            // Abrir WhatsApp
            window.open(`https://wa.me/${whatsappLoja}?text=${message}`, '_blank');
            
            // Limpar carrinho e formulário
            cart = [];
            customerName.value = '';
            customerPhone.value = '';
            paymentMethod.value = '';
            orderType.value = '';
            deliveryAddress.value = '';
            addressSection.classList.add('hidden');
            updateCart();
            cartModal.classList.remove('active');
            
            // Mostrar mensagem de confirmação
            showToast('✅ Pedido enviado! Verifique o WhatsApp', 'success');
        }

        // Event Listeners
        categoryTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remover classe active de todas as tabs
                categoryTabs.forEach(t => t.classList.remove('active'));
                
                // Adicionar classe active à tab clicada
                tab.classList.add('active');
                
                // Atualizar categoria atual e renderizar produtos
                currentCategory = tab.getAttribute('data-category');
                renderProducts(currentCategory);
            });
        });

        cartButton.addEventListener('click', () => {
            cartModal.classList.add('active');
        });

        closeCart.addEventListener('click', () => {
            cartModal.classList.remove('active');
        });

        checkoutButton.addEventListener('click', checkout);

        // Event listener para mostrar campo de endereço quando "entrega" for selecionada
        orderType.addEventListener('change', function() {
            // Remover erro ao selecionar
            this.classList.remove('error');
            
            if (this.value === 'entrega') {
                addressSection.classList.remove('hidden');
            } else {
                addressSection.classList.add('hidden');
                deliveryAddress.value = '';
                deliveryAddress.classList.remove('error');
            }
        });

        // Event listeners para remover erros ao interagir com os campos
        customerName.addEventListener('input', function() {
            this.classList.remove('error');
        });

        customerPhone.addEventListener('input', function() {
            this.classList.remove('error');
            
            // Aplicar máscara de telefone
            let value = this.value.replace(/\D/g, '');
            
            if (value.length <= 10) {
                // Formato: (00) 0000-0000
                value = value.replace(/^(\d{2})(\d{4})(\d{0,4}).*/, '($1) $2-$3');
            } else {
                // Formato: (00) 00000-0000
                value = value.replace(/^(\d{2})(\d{5})(\d{0,4}).*/, '($1) $2-$3');
            }
            
            this.value = value;
        });

        paymentMethod.addEventListener('change', function() {
            this.classList.remove('error');
        });

        deliveryAddress.addEventListener('input', function() {
            this.classList.remove('error');
        });

        // Função para verificar se todos os campos obrigatórios estão preenchidos
        function checkRequiredFields() {
            const hasName = customerName.value.trim() !== '';
            const hasPhone = customerPhone.value.replace(/\D/g, '').length >= 10;
            const hasPayment = paymentMethod.value !== '';
            const hasOrderType = orderType.value !== '';
            const hasAddress = orderType.value !== 'entrega' || deliveryAddress.value.trim() !== '';
            
            const allFieldsValid = hasName && hasPhone && hasPayment && hasOrderType && hasAddress;
            
            if (allFieldsValid) {
                checkoutButton.classList.remove('disabled');
            } else {
                checkoutButton.classList.add('disabled');
            }
        }

        // Event listeners para verificar campos em tempo real
        customerName.addEventListener('input', checkRequiredFields);
        customerPhone.addEventListener('input', checkRequiredFields);
        paymentMethod.addEventListener('change', checkRequiredFields);
        orderType.addEventListener('change', checkRequiredFields);
        deliveryAddress.addEventListener('input', checkRequiredFields);

        // Inicializar verificação de campos obrigatórios
        checkRequiredFields();

        // Fechar modal ao clicar fora
        cartModal.addEventListener('click', (e) => {
            if (e.target === cartModal) {
                cartModal.classList.remove('active');
            }
        });

        // Registro do Service Worker com atualização automática
        if ('serviceWorker' in navigator) {
            // Detectar se está rodando como PWA instalado
            const isPWA = window.matchMedia('(display-mode: standalone)').matches || 
                          window.navigator.standalone === true;
            
            if (isPWA) {
                console.log('📱 Rodando como PWA instalado');
            }
            
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('./sw.js', {
                        scope: './',
                        updateViaCache: 'none' // Força buscar sempre a versão mais nova
                    });
                    
                    console.log('✅ Service Worker registrado:', registration.scope);
                    
                    // Para PWAs: verificar atualização imediatamente ao abrir o app
                    if (isPWA) {
                        console.log('🔄 PWA: Verificando atualizações...');
                        registration.update();
                    }
                    
                    // Verificar atualizações a cada 30 segundos
                    setInterval(() => {
                        registration.update();
                    }, 30000);
                    
                    // Detectar nova versão e forçar reload
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        console.log('🔄 Nova versão detectada! Atualizando...');
                        
                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                console.log('✅ Nova versão instalada! Recarregando em 2 segundos...');
                                
                                // Mostrar banner de atualização
                                const banner = document.getElementById('update-banner');
                                if (banner) {
                                    banner.style.display = 'block';
                                    if (isPWA) {
                                        banner.querySelector('p').textContent = 'Atualizando o aplicativo...';
                                    }
                                }
                                
                                // Mostrar notificação
                                showToast('🔄 Nova versão disponível! Atualizando...', 'info');
                                
                                // Para PWAs: desregistrar SW antigo antes de recarregar
                                if (isPWA && navigator.serviceWorker.controller) {
                                    navigator.serviceWorker.controller.postMessage({
                                        type: 'SKIP_WAITING'
                                    });
                                }
                                
                                // Recarregar automaticamente após 2 segundos
                                setTimeout(() => {
                                    if (isPWA) {
                                        // Para PWA: reload mais agressivo
                                        window.location.href = window.location.href;
                                    } else {
                                        window.location.reload(true);
                                    }
                                }, 2000);
                            }
                        });
                    });
                    
                    // Verificar se PWA está disponível
                    if (registration.active) {
                        console.log('📱 PWA ativo e funcionando');
                    }
                    
                } catch (error) {
                    console.error('❌ Erro ao registrar Service Worker:', error);
                }
            });
            
            // Para PWAs: verificar atualização quando app volta ao foco
            if (isPWA) {
                document.addEventListener('visibilitychange', () => {
                    if (!document.hidden) {
                        console.log('👁️ PWA voltou ao foco, verificando atualizações...');
                        navigator.serviceWorker.getRegistration().then(reg => {
                            if (reg) reg.update();
                        });
                    }
                });
                
                // Verificar quando app é retomado
                window.addEventListener('focus', () => {
                    console.log('🔍 PWA em foco, verificando atualizações...');
                    navigator.serviceWorker.getRegistration().then(reg => {
                        if (reg) reg.update();
                    });
                });
            }
            
            // Lidar com mensagens do Service Worker
            navigator.serviceWorker.addEventListener('message', (event) => {
                if (event.data && event.data.type === 'CACHE_UPDATED') {
                    console.log('📦 Cache atualizado!');
                }
            });
            
            // Limpar cache antigo ao carregar página
            if ('caches' in window) {
                caches.keys().then(cacheNames => {
                    cacheNames.forEach(cacheName => {
                        // Manter apenas caches da versão atual
                        if (cacheName.includes('go-burger') && !cacheName.includes('-3.')) {
                            console.log('🗑️ Removendo cache antigo do navegador:', cacheName);
                            caches.delete(cacheName);
                        }
                    });
                });
            }
        }

        // Prompt de instalação PWA
        let deferredPrompt;
        let installButton = null;

        // Criar botão de instalação
        function createInstallButton() {
            if (installButton) return; // Já existe
            
            installButton = document.createElement('div');
            installButton.id = 'pwa-install-banner';
            installButton.innerHTML = `
                <div class="install-banner">
                    <div class="install-content">
                        <div class="install-icon">📱</div>
                        <div class="install-text">
                            <strong>Instalar GO BURGER</strong>
                            <p>Adicione à tela inicial para acesso rápido!</p>
                        </div>
                    </div>
                    <div class="install-actions">
                        <button class="btn-install" onclick="installPWA()">Instalar</button>
                        <button class="btn-dismiss" onclick="dismissInstall()">✕</button>
                    </div>
                </div>
            `;
            
            // CSS do banner
            const style = document.createElement('style');
            style.innerHTML = `
                #pwa-install-banner {
                    position: fixed; bottom: 0; left: 0; right: 0; z-index: 9999;
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    color: white; padding: 1rem; box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
                    transform: translateY(100%); transition: transform 0.3s ease;
                }
                #pwa-install-banner.show { transform: translateY(0); }
                .install-banner {
                    display: flex; align-items: center; justify-content: space-between;
                    max-width: 600px; margin: 0 auto; gap: 1rem;
                }
                .install-content { display: flex; align-items: center; gap: 1rem; flex: 1; }
                .install-icon { font-size: 2rem; }
                .install-text h3 { margin: 0; font-size: 1.1rem; }
                .install-text p { margin: 0; font-size: 0.9rem; opacity: 0.9; }
                .install-actions { display: flex; gap: 0.5rem; }
                .btn-install, .btn-dismiss {
                    padding: 0.6rem 1rem; border: none; border-radius: 8px;
                    font-weight: bold; cursor: pointer; transition: all 0.2s;
                }
                .btn-install {
                    background: white; color: var(--primary);
                }
                .btn-install:hover { transform: scale(1.05); }
                .btn-dismiss {
                    background: transparent; color: white; border: 1px solid rgba(255,255,255,0.3);
                    width: 35px; height: 35px; display: flex; align-items: center; justify-content: center;
                }
                @media (max-width: 768px) {
                    .install-banner { flex-direction: column; text-align: center; }
                    .install-content { justify-content: center; }
                }
            `;
            document.head.appendChild(style);
            document.body.appendChild(installButton);
            
            // Mostrar após um delay
            setTimeout(() => installButton.classList.add('show'), 500);
        }

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Mostrar banner personalizado após 5 segundos
            setTimeout(createInstallButton, 5000);
        });

        // Função para instalar PWA
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        showToast('🎉 App instalado com sucesso!', 'success');
                        dismissInstall();
                    } else {
                        showToast('Instalação cancelada', 'info');
                    }
                    deferredPrompt = null;
                });
            } else {
                showToast('📱 Instalação disponível apenas em navegadores compatíveis', 'info');
            }
        }

        // Função para dispensar banner
        function dismissInstall() {
            if (installButton) {
                installButton.classList.remove('show');
                setTimeout(() => {
                    installButton.remove();
                    installButton = null;
                }, 300);
            }
        }

        // Detectar quando o app foi instalado
        window.addEventListener('appinstalled', () => {
            showToast('✅ GO BURGER instalado com sucesso!', 'success');
            dismissInstall();
            console.log('PWA instalada');
        });

        // Tornar funções globais
        window.installPWA = installPWA;
        window.dismissInstall = dismissInstall;
        
        // Função para expandir/colapsar lista de adicionais
        window.toggleAdditionalsList = function(event) {
            event.preventDefault();
            const button = event.currentTarget;
            const container = button.closest('.additionals-body').querySelector('.additionals-list-container');
            const icon = button.querySelector('.toggle-icon');
            const text = button.querySelector('.toggle-text');
            
            if (container.style.display === 'none') {
                container.style.display = 'block';
                icon.textContent = '➖';
                text.textContent = 'Ocultar Ingredientes Extras';
                button.classList.add('active');
            } else {
                container.style.display = 'none';
                icon.textContent = '➕';
                text.textContent = 'Adicionar Ingredientes Extras';
                // Manter classe active se houver itens selecionados
                const checkedCount = container.querySelectorAll('input[type="checkbox"]:checked').length;
                if (checkedCount === 0) {
                    button.classList.remove('active');
                }
            }
        };

        // Detectar se está no WhatsApp e mostrar banner
        function detectWhatsApp() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            const isWhatsApp = /WhatsApp/i.test(userAgent);
            
            if (isWhatsApp) {
                const banner = document.getElementById('whatsapp-banner');
                if (banner) {
                    banner.style.display = 'block';
                    banner.style.animation = 'slideDown 0.5s ease';
                    
                    // Ajustar padding do body para não cobrir o conteúdo
                    document.body.style.paddingTop = '100px';
                }
            }
        }

        // Função para abrir no navegador externo
        window.openInBrowser = function() {
            // Copiar URL atual
            const url = window.location.href;
            
            // Criar um link temporário para forçar abertura
            const a = document.createElement('a');
            a.href = url;
            a.target = '_blank';
            a.rel = 'noopener noreferrer';
            
            // Tentar abrir
            a.click();
            
            // Mostrar instruções
            alert('📱 Para abrir no navegador:\n\n1. Toque nos 3 pontos (⋮) no canto superior\n2. Selecione "Abrir no navegador" ou "Open in browser"\n\nOu copie o link e cole no Chrome:\n' + url);
        };

        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(currentCategory);
            updateCart();
            detectWhatsApp(); // Detectar WhatsApp
        });


        // ========================================
        // CONFIGURAÇÃO PARA HOSPEDAGEM
        // ========================================
        const SITE_CONFIG = {
            // 🌐 CONFIGURADO PARA NETLIFY
            // Para hospedar: simplesmente faça deploy que a URL será detectada automaticamente
            // Ou configure manualmente abaixo se necessário
            
            productionUrl: 'https://fanciful-bublanina-c3068f.netlify.app', // ← URL ATUAL NETLIFY
            
            // 🤖 Detecção automática (não alterar)
            get baseUrl() {
                const isLocal = window.location.hostname === 'localhost' || 
                              window.location.hostname === '127.0.0.1' || 
                              window.location.protocol === 'file:';
                
                return isLocal ? window.location.origin : this.productionUrl;
            }
        };



        // 🔧 FUNÇÃO DE TESTE - Remove após configurar
        function testSiteConfig() {
            console.log('%c=== 🍔 GO BURGER - TESTE DE CONFIGURAÇÃO ===', 'color: #FF6A13; font-weight: bold; font-size: 14px;');
            console.log('🌐 Hostname atual:', window.location.hostname);
            console.log('📄 URL completa atual:', window.location.href);
            console.log('📱 URL para WhatsApp:', SITE_CONFIG.baseUrl);
            
            if (SITE_CONFIG.productionUrl === 'https://seudominio.com.br') {
                console.log('%c⚠️ ATENÇÃO: Altere a productionUrl em SITE_CONFIG antes de hospedar!', 
                          'color: #f59e0b; font-weight: bold; background: #fef3c7; padding: 4px;');
                console.log('%c💡 Procure por "SITE_CONFIG" no código e altere a productionUrl', 'color: #059669;');
            } else {
                console.log('%c✅ Configuração OK! URL de produção:', SITE_CONFIG.productionUrl, 
                          'color: #059669; font-weight: bold;');
                
                // Teste adicional se está hospedado
                if (window.location.hostname !== 'localhost' && 
                    window.location.hostname !== '127.0.0.1' && 
                    window.location.protocol !== 'file:') {
                    console.log('%c🚀 Site hospedado detectado! Configuração parece correta.', 
                              'color: #059669; background: #ecfdf5; padding: 4px;');
                }
            }
            
            console.log('%c📋 Instruções completas em: INSTRUCOES_HOSPEDAGEM.md', 'color: #6b7280; font-style: italic;');
        }

        // Inicializar cardápio na página
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(currentCategory);
            // Executar teste automaticamente
            testSiteConfig();
        });
    </script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <!-- Script de Integração com PDV -->
    <script>
        // ⚡ Configuração Firebase (MESMA do Sistema PDV)
        const firebaseConfig = {
            apiKey: "AIzaSyBqJQd0YpxjndeUDLoBIDjw7WPpE42YI6s",
            authDomain: "burgerpdv.firebaseapp.com",
            databaseURL: "https://burgerpdv-default-rtdb.firebaseio.com",
            projectId: "burgerpdv",
            storageBucket: "burgerpdv.firebasestorage.app",
            messagingSenderId: "810043325830",
            appId: "1:810043325830:web:fcbdb9de2c6330633c4007",
            measurementId: "G-HMWFRSSMRD"
        };

        let database;
        
        // Inicializar Firebase
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
            database = firebase.database();
            console.log('%c✅ Firebase PDV inicializado', 'color: #059669; font-weight: bold;');
            console.log('%cℹ️ Firebase é opcional - WhatsApp funciona normalmente mesmo se desconectado', 'color: #6b7280; font-style: italic;');
            
        // Monitorar conexão
        database.ref('.info/connected').on('value', (snapshot) => {
            if (snapshot.val()) {
                console.log('%c✅ PDV conectado - Pedidos serão enviados ao sistema', 'color: #059669; font-weight: bold;');
            }
        });

        // Testar permissões do Firebase após 3 segundos
        setTimeout(() => {
            database.ref('online-orders').limitToLast(1).once('value')
                .then(() => {
                    console.log('%c✅ Firebase: Permissões OK - Pedidos serão enviados ao Sistema PDV', 'color: #059669; font-weight: bold;');
                })
                .catch(error => {
                    console.error('%c❌ Firebase: Erro de permissão!', 'color: #dc2626; font-weight: bold;');
                    console.error('Erro:', error.code);
                    console.log('%c🔧 SOLUÇÃO: Configure as regras do Firebase', 'color: #f59e0b; font-weight: bold;');
                    console.log('%cAcesse: https://console.firebase.google.com/project/burgerpdv/database/rules', 'color: #3b82f6;');
                    console.log('%cConfigure as regras para:', 'color: #6b7280;');
                    console.log(`{
  "rules": {
    "online-orders": {
      ".read": true,
      ".write": true
    }
  }
}`, 'color: #6b7280; font-family: monospace;');
                    console.log('%c⚠️ IMPORTANTE: Use "online-orders" (não "pedidos")!', 'color: #f59e0b; font-weight: bold;');
                });
        }, 3000);
        
    } catch (error) {
        console.warn('⚠️ Firebase PDV não disponível:', error.message);
        console.log('%c✅ Sistema funcionando normalmente via WhatsApp', 'color: #059669;');
    }
    
    // ============================================
    // SISTEMA DE CADASTRO DO CLIENTE
    // ============================================
    
    let customerData = null;
    const customerModal = document.getElementById('customer-modal');
    const editCustomerBtn = document.getElementById('edit-customer-btn');
    const customerNameDisplay = document.getElementById('customer-name-display');
    
    // Carregar dados do cliente salvos - REMOVIDO localStorage, usa apenas Firebase
    async function loadCustomerData() {
        // Verifica se já tem telefone salvo no localStorage
        const savedPhone = localStorage.getItem('customer_phone');
        if (savedPhone) {
            // Buscar dados do Firebase
            try {
                if (database) {
                    const customerRef = database.ref('customers/' + savedPhone);
                    const snapshot = await customerRef.once('value');
                    if (snapshot.exists()) {
                        customerData = snapshot.val();
                        updateCustomerDisplay();
                        return true;
                    }
                }
            } catch (error) {
                console.warn('⚠️ Erro ao carregar dados do Firebase:', error);
            }
            // Se tem telefone mas não encontrou no Firebase, pede dados
            return false;
        }
        return false;
    }
    
    // Atualizar exibição do cliente no header
    function updateCustomerDisplay() {
        if (customerData && customerData.nome) {
            const firstName = customerData.nome.split(' ')[0];
            customerNameDisplay.textContent = firstName;
            editCustomerBtn.style.display = 'inline-flex';
            
            // Preencher campos do carrinho
            document.getElementById('customer-name').value = customerData.nome;
            document.getElementById('customer-phone').value = customerData.telefone;
            document.getElementById('delivery-address').value = customerData.endereco || '';
        }
    }
    
    // Mostrar modal de cadastro
    function showCustomerModal(isEdit = false) {
        customerModal.classList.add('active');
        
        if (isEdit && customerData) {
            document.getElementById('modal-customer-name').value = customerData.nome;
            document.getElementById('modal-customer-phone').value = customerData.telefone;
            document.getElementById('modal-customer-address').value = customerData.endereco || '';
            document.getElementById('modal-customer-location').value = customerData.localizacao || '';
        }
    }
    
    // Salvar dados do cliente
    async function saveCustomerData() {
        const telefone = document.getElementById('modal-customer-phone').value.trim();
        
        if (!telefone) {
            alert('⚠️ Por favor, preencha o telefone');
            return;
        }
        
        const phoneKey = telefone.replace(/\D/g, '');
        
        // Buscar dados existentes no Firebase primeiro
        try {
            if (database) {
                const customerRef = database.ref('customers/' + phoneKey);
                const snapshot = await customerRef.once('value');
                
                if (snapshot.exists()) {
                    // Cliente já existe - carregar seus dados
                    customerData = snapshot.val();
                    localStorage.setItem('customer_phone', phoneKey);
                    updateCustomerDisplay();
                    customerModal.classList.remove('active');
                    showToast('✅ Bem-vindo de volta, ' + customerData.nome.split(' ')[0] + '!', 'success');
                    console.log('✅ Cliente existente carregado do Firebase');
                    return;
                }
            }
        } catch (error) {
            console.warn('⚠️ Erro ao buscar cliente no Firebase:', error);
        }
        
        // Se não existe, validar todos os campos para criar novo
        const nome = document.getElementById('modal-customer-name').value.trim();
        const endereco = document.getElementById('modal-customer-address').value.trim();
        const localizacao = document.getElementById('modal-customer-location').value.trim();
        
        if (!nome || !endereco) {
            alert('⚠️ Por favor, preencha Nome e Endereço para criar seu cadastro');
            return;
        }
        
        customerData = { nome, telefone, endereco, localizacao };
        localStorage.setItem('customer_phone', phoneKey);
        
        // Salvar novo cliente no Firebase
        try {
            if (database) {
                const customerRef = database.ref('customers/' + phoneKey);
                await customerRef.set({
                    ...customerData,
                    dataCadastro: new Date().toISOString(),
                    ultimaAtualizacao: new Date().toISOString()
                });
                console.log('✅ Novo cliente salvo no Firebase');
            }
        } catch (error) {
            console.warn('⚠️ Não foi possível salvar no Firebase:', error);
        }
        
        updateCustomerDisplay();
        customerModal.classList.remove('active');
        
        showToast('✅ Cadastro criado com sucesso!', 'success');
    }
    
    // Verificar se é primeira visita
    setTimeout(async () => {
        const hasCustomerData = await loadCustomerData();
        if (!hasCustomerData) {
            // Primeira visita - mostrar modal após 2 segundos
            setTimeout(() => {
                showCustomerModal(false);
            }, 2000);
        }
    }, 1000);
    
    // Event listeners
    document.getElementById('btn-save-customer').addEventListener('click', saveCustomerData);
    document.getElementById('btn-skip-customer').addEventListener('click', () => {
        customerModal.classList.remove('active');
    });
    editCustomerBtn.addEventListener('click', () => {
        showCustomerModal(true);
    });

    // Função para enviar pedido ao PDV
    async function sendOrderToPDV(orderData) {
        try {
            console.log('🔍 Iniciando envio ao PDV...');
            
            // Verificar se Firebase está disponível
            if (!database) {
                console.warn('⚠️ Firebase não disponível - database is null');
                return null;
            }

            console.log('✅ Firebase database disponível');

            // Validações
            if (!orderData.cliente?.nome || !orderData.cliente?.telefone) {
                console.error('❌ Validação falhou: nome ou telefone ausente', orderData.cliente);
                throw new Error('Nome e telefone obrigatórios');
            }
            
            if (!orderData.itens?.length) {
                console.error('❌ Validação falhou: sem itens', orderData.itens);
                throw new Error('Pedido sem itens');
            }
            
            if (!orderData.valores?.total || orderData.valores.total <= 0) {
                console.error('❌ Validação falhou: total inválido', orderData.valores?.total);
                throw new Error('Total inválido');
            }

            console.log('✅ Validações OK');

            // Gerar ID único
            const orderId = `WEB-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;

            console.log(`📤 Enviando pedido ao Firebase... ${orderId}`);

            // Adicionar ID e metadata aos dados
            const pedido = {
                id: orderId,
                ...orderData,
                metadata: {
                    fonte: 'Cardápio Digital',
                    versao: '1.0.0',
                    userAgent: navigator.userAgent
                }
            };

            // Enviar com timeout de 10 segundos
            const timeoutPromise = new Promise((_, reject) => 
                setTimeout(() => reject(new Error('Timeout ao enviar pedido')), 10000)
            );

            // ⚡ Envia para 'online-orders' que o Sistema PDV está escutando
            const sendPromise = database.ref(`online-orders/${orderId}`).set(pedido);

            await Promise.race([sendPromise, timeoutPromise]);
            
            console.log(`%c✅ Pedido ${orderId} enviado ao Sistema PDV com sucesso!`, 'color: #059669; font-weight: bold; font-size: 14px;');
            console.log(`%c📊 Verifique o Sistema PDV para confirmar recebimento`, 'color: #6b7280; font-style: italic;');
            
            return orderId;

        } catch (error) {
            console.error('❌ Erro ao enviar pedido ao PDV:', error);
            console.error('Detalhes do erro:', error.message);
            return null;
        }
    }

        // ========================================
        // SISTEMA DE FICHAS DE FIDELIDADE
        // ========================================
        
        async function loadCustomerFichas() {
            // Busca telefone da sessão (salvo durante o pedido)
            const customerPhone = localStorage.getItem('customer_phone');
            
            if (!customerPhone) {
                document.querySelector('.fichas-count').textContent = '0';
                return 0;
            }
            
            try {
                const customerRef = database.ref('customers/' + customerPhone);
                const snapshot = await customerRef.once('value');
                const customer = snapshot.val();
                
                const fichas = customer?.fichas || 0;
                document.querySelector('.fichas-count').textContent = fichas;
                
                // Animação no contador
                const badge = document.querySelector('.fichas-count');
                badge.style.animation = 'none';
                setTimeout(() => {
                    badge.style.animation = 'pulse 0.5s ease';
                }, 10);
                
                return fichas;
            } catch (error) {
                console.error('Erro ao carregar fichas:', error);
                document.querySelector('.fichas-count').textContent = '0';
                return 0;
            }
        }
        
        async function showFichasModal() {
            // Tenta buscar telefone da sessão primeiro
            let phoneClean = localStorage.getItem('customer_phone');
            
            // Se não tiver ou usuário quiser consultar outro número
            if (!phoneClean) {
                const customerPhone = prompt('📱 Digite seu telefone para ver suas fichas:\n(Exemplo: 66991234567)');
                
                if (!customerPhone) {
                    return; // Cancelou
                }
                
                phoneClean = customerPhone.replace(/\D/g, '');
                
                if (phoneClean.length < 10) {
                    alert('❌ Telefone inválido! Digite um número válido.');
                    return;
                }
            }
            
            try {
                const customerRef = database.ref('customers/' + phoneClean);
                const snapshot = await customerRef.once('value');
                const customer = snapshot.val();
                
                if (!customer) {
                    alert('⚠️ Nenhum pedido encontrado com este telefone.\n\nFaça seu primeiro pedido para começar a acumular fichas!');
                    return;
                }
                
                const fichas = customer?.fichas || 0;
                const recompensasResgatadas = customer?.recompensasResgatadas || 0;
                const historicoFichas = customer?.historicoFichas || [];
                
                // Atualizar contador visual
                document.querySelector('.fichas-count').textContent = fichas;
                
                // Criar modal
                const modal = document.createElement('div');
                modal.className = 'fichas-modal';
                
                // Gerar slots da cartela (10 fichas)
                let cartelaHTML = '';
                for (let i = 1; i <= 10; i++) {
                    const preenchida = i <= fichas;
                    cartelaHTML += `<div class="ficha-slot ${preenchida ? 'preenchida' : 'vazia'}"></div>`;
                }
                
                // Gerar histórico
                let historicoHTML = '';
                if (historicoFichas.length > 0) {
                    historicoHTML = `
                        <div class="historico-fichas">
                            <h3>📋 Histórico de Fichas</h3>
                            ${historicoFichas.slice(-5).reverse().map(item => `
                                <div class="historico-item ${item.tipo}">
                                    <span>${item.descricao}</span>
                                    <span>${new Date(item.data).toLocaleDateString('pt-BR')}</span>
                                </div>
                            `).join('')}
                        </div>
                    `;
                }
                
                modal.innerHTML = `
                    <div class="fichas-content">
                        <div class="fichas-header">
                            <button class="close-fichas">&times;</button>
                            <h2>🎁 Minhas Fichas de Fidelidade</h2>
                            <p>Primeiro pedido = 2 fichas! Demais pedidos = 1 ficha</p>
                        </div>
                        <div class="fichas-body">
                            <div class="fichas-progress">
                                <div class="fichas-count-display">${fichas}/10</div>
                                <p class="fichas-subtitle">Fichas acumuladas</p>
                            </div>
                            
                            <div class="fichas-info-box">
                                <p>🎯 <strong>Como funciona:</strong></p>
                                <p>• Primeiro pedido = +2 fichas (🎁 bônus!)</p>
                                <p>• Próximos pedidos = +1 ficha</p>
                                <p>• 10 fichas = 1 hambúrguer grátis</p>
                                <p>• Resgate quando quiser!</p>
                            </div>
                            
                            <div class="cartela-container">
                                ${cartelaHTML}
                            </div>
                            
                            ${fichas >= 10 ? `
                                <div class="premio-info">
                                    <h3>🎉 Parabéns!</h3>
                                    <p>Você tem direito a um hambúrguer grátis!</p>
                                </div>
                                <button class="btn-resgatar" onclick="resgatarHamburguer()">🍔 Resgatar Hambúrguer Grátis</button>
                            ` : `
                                <div style="text-align: center; padding: 15px; color: var(--text-light);">
                                    <p>Faltam apenas <strong style="color: var(--primary);">${10 - fichas} fichas</strong> para ganhar um hambúrguer grátis! 🎯</p>
                                </div>
                            `}
                            
                            ${recompensasResgatadas > 0 ? `
                                <div style="text-align: center; margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 10px;">
                                    <p style="margin: 0; color: #856404;">🏆 Você já resgatou <strong>${recompensasResgatadas}</strong> hambúrguer${recompensasResgatadas > 1 ? 'es' : ''} grátis!</p>
                                </div>
                            ` : ''}
                            
                            ${historicoHTML}
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                // Event listeners
                modal.querySelector('.close-fichas').addEventListener('click', () => modal.remove());
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) modal.remove();
                });
                
            } catch (error) {
                console.error('Erro ao exibir fichas:', error);
                alert('❌ Erro ao carregar fichas');
            }
        }
        
        async function addFichasToCustomer(customerPhone, quantidadeBase, descricao) {
            try {
                const customerRef = database.ref('customers/' + customerPhone);
                const snapshot = await customerRef.once('value');
                const customer = snapshot.val();
                
                // Verificar se é o primeiro pedido (bônus de 2 fichas) ou pedidos seguintes (1 ficha)
                const historicoAtual = customer?.historicoFichas || [];
                const pedidosAnteriores = historicoAtual.filter(item => item.tipo === 'ganhou');
                const isPrimeiroPedido = pedidosAnteriores.length === 0;
                
                // Primeiro pedido = 2 fichas (bônus), demais = 1 ficha
                const quantidade = isPrimeiroPedido ? 2 : 1;
                
                const fichasAtuais = customer?.fichas || 0;
                const novasFichas = fichasAtuais + quantidade;
                
                const historicoItem = {
                    data: new Date().toISOString(),
                    tipo: 'ganhou',
                    quantidade: quantidade,
                    descricao: descricao
                };
                
                historicoAtual.push(historicoItem);
                
                await customerRef.update({
                    fichas: novasFichas,
                    historicoFichas: historicoAtual
                });
                
                // Atualizar contador visual
                document.querySelector('.fichas-count').textContent = novasFichas;
                
                // Mostrar notificação animada
                showFichasGanhasNotification(quantidade, novasFichas);
                
                console.log(`✅ ${quantidade} fichas adicionadas! Total: ${novasFichas}`);
                
                // 🎁 PRÊMIO AUTOMÁTICO: Se completou 10 fichas, adicionar hambúrguer grátis ao carrinho
                if (novasFichas >= 10) {
                    setTimeout(() => {
                        autoResgateRecompensa(customerPhone, customer);
                    }, 2000); // Aguarda 2s para mostrar a notificação de fichas primeiro
                }
                
            } catch (error) {
                console.error('Erro ao adicionar fichas:', error);
            }
        }
        
        function showFichasGanhasNotification(quantidade, totalFichas) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0);
                background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
                color: white;
                padding: 30px 40px;
                border-radius: 20px;
                box-shadow: 0 20px 60px rgba(255, 107, 53, 0.4);
                z-index: 10001;
                text-align: center;
                animation: fichasPulse 0.6s ease forwards;
            `;
            
            notification.innerHTML = `
                <div style="font-size: 3rem; margin-bottom: 10px;">🎁</div>
                <h3 style="margin: 0 0 10px 0; font-size: 1.5rem;">+${quantidade} Fichas!</h3>
                <p style="margin: 0; font-size: 1rem; opacity: 0.9;">Você agora tem ${totalFichas} fichas</p>
                ${totalFichas >= 10 ? '<p style="margin: 10px 0 0 0; font-size: 1.1rem; font-weight: bold;">🎉 Hambúrguer grátis disponível!</p>' : ''}
            `;
            
            // Adicionar animação CSS
            if (!document.querySelector('#fichas-animation-style')) {
                const style = document.createElement('style');
                style.id = 'fichas-animation-style';
                style.innerHTML = `
                    @keyframes fichasPulse {
                        0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
                        50% { transform: translate(-50%, -50%) scale(1.1); }
                        100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            // Remover após 3 segundos
            setTimeout(() => {
                notification.style.animation = 'fichasPulse 0.3s ease reverse';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        async function autoResgateRecompensa(customerPhone, customer) {
            try {
                const fichasAtuais = customer?.fichas || 0;
                
                if (fichasAtuais < 10) return; // Não tem fichas suficientes
                
                const novasFichas = fichasAtuais - 10;
                const recompensasResgatadas = (customer?.recompensasResgatadas || 0) + 1;
                
                const historicoItem = {
                    data: new Date().toISOString(),
                    tipo: 'resgatou',
                    quantidade: -10,
                    descricao: `🍔 Hambúrguer grátis resgatado automaticamente (#${recompensasResgatadas})`
                };
                
                const historicoAtual = customer?.historicoFichas || [];
                historicoAtual.push(historicoItem);
                
                const customerRef = database.ref('customers/' + customerPhone);
                await customerRef.update({
                    fichas: novasFichas,
                    recompensasResgatadas: recompensasResgatadas,
                    historicoFichas: historicoAtual
                });
                
                // Atualizar contador
                document.querySelector('.fichas-count').textContent = novasFichas;
                
                // Adicionar hambúrguer grátis ao carrinho automaticamente
                const hamburgerGratis = {
                    id: 999,
                    name: `🎁 HAMBÚRGUER GRÁTIS (Resgate #${recompensasResgatadas})`,
                    price: 0,
                    description: 'Recompensa de fidelidade - 10 fichas',
                    category: 'hamburgueres',
                    quantity: 1,
                    observacao: '🏆 RECOMPENSA DE FIDELIDADE - GRÁTIS',
                    isRecompensa: true,
                    additionals: ''
                };
                
                cart.push(hamburgerGratis);
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCart();
                
                // Notificação especial de prêmio
                showPremioNotification(recompensasResgatadas);
                
                console.log(`🎉 Prêmio resgatado automaticamente! Cliente agora tem ${novasFichas} fichas.`);
                
            } catch (error) {
                console.error('Erro ao resgatar prêmio automaticamente:', error);
            }
        }
        
        function showPremioNotification(numeroResgate) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0);
                background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
                color: white;
                padding: 40px 50px;
                border-radius: 20px;
                box-shadow: 0 20px 60px rgba(76, 175, 80, 0.5);
                z-index: 10002;
                text-align: center;
                animation: premioEntrada 0.6s ease forwards;
                max-width: 90%;
            `;
            
            notification.innerHTML = `
                <div style="font-size: 4rem; margin-bottom: 15px; animation: rotate 1s ease;">🎉</div>
                <h2 style="margin: 0 0 15px 0; font-size: 2rem; font-weight: bold;">PARABÉNS!</h2>
                <p style="margin: 0 0 10px 0; font-size: 1.2rem;">Você completou 10 fichas!</p>
                <p style="margin: 0; font-size: 1.4rem; font-weight: bold; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">🍔 HAMBÚRGUER GRÁTIS ADICIONADO AO CARRINHO!</p>
                <p style="margin: 15px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Resgate #${numeroResgate}</p>
            `;
            
            // Adicionar animações CSS
            if (!document.querySelector('#premio-animation-style')) {
                const style = document.createElement('style');
                style.id = 'premio-animation-style';
                style.innerHTML = `
                    @keyframes premioEntrada {
                        0% { transform: translate(-50%, -50%) scale(0) rotate(-180deg); opacity: 0; }
                        50% { transform: translate(-50%, -50%) scale(1.1) rotate(10deg); }
                        100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; }
                    }
                    @keyframes pulse {
                        0%, 100% { transform: scale(1); }
                        50% { transform: scale(1.2); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            // Remover após 5 segundos
            setTimeout(() => {
                notification.style.animation = 'premioEntrada 0.4s ease reverse';
                setTimeout(() => notification.remove(), 400);
            }, 5000);
        }
        
        async function resgatarHamburguer() {
            // Pedir telefone novamente para confirmar identidade
            const customerPhone = prompt('📱 Confirme seu telefone para resgatar:\n(Exemplo: 66991234567)');
            
            if (!customerPhone) return;
            
            const phoneClean = customerPhone.replace(/\D/g, '');
            
            try {
                const customerRef = database.ref('customers/' + phoneClean);
                const snapshot = await customerRef.once('value');
                const customer = snapshot.val();
                
                const fichasAtuais = customer?.fichas || 0;
                
                if (fichasAtuais < 10) {
                    alert('❌ Você precisa de 10 fichas para resgatar');
                    return;
                }
                
                const novasFichas = fichasAtuais - 10;
                const recompensasResgatadas = (customer?.recompensasResgatadas || 0) + 1;
                
                const historicoItem = {
                    data: new Date().toISOString(),
                    tipo: 'resgatou',
                    quantidade: -10,
                    descricao: `🍔 Hambúrguer grátis resgatado (#${recompensasResgatadas})`
                };
                
                const historicoAtual = customer?.historicoFichas || [];
                historicoAtual.push(historicoItem);
                
                await customerRef.update({
                    fichas: novasFichas,
                    recompensasResgatadas: recompensasResgatadas,
                    historicoFichas: historicoAtual
                });
                
                // Atualizar contador
                document.querySelector('.fichas-count').textContent = novasFichas;
                
                // Fechar modal atual
                const modalAtual = document.querySelector('.fichas-modal');
                if (modalAtual) modalAtual.remove();
                
                alert('🎉 Parabéns! Seu hambúrguer grátis foi liberado! No próximo pedido, escolha qualquer hambúrguer simples e informe que é seu resgate de fidelidade.');
                
                setTimeout(() => showFichasModal(), 1000);
                
            } catch (error) {
                console.error('Erro ao resgatar hambúrguer:', error);
                alert('❌ Erro ao resgatar recompensa');
            }
        }
        
        // Inicializar e carregar fichas automaticamente se tiver telefone salvo
        if (database) {
            loadCustomerFichas();
        } else {
            document.querySelector('.fichas-count').textContent = '0';
        }

        console.log('%c🔥 Sistema de Pedidos Carregado', 'color: #FF6A13; font-weight: bold; font-size: 14px;');
        console.log('%c📱 WhatsApp: Sempre ativo', 'color: #25D366; font-weight: bold;');
        console.log('%c💻 Sistema PDV: ' + (database ? 'Conectando...' : 'Offline'), 'color: #6b7280;');
        console.log('%c🎁 Sistema de Fichas: Ativo', 'color: #FF6B35; font-weight: bold;');
    </script>
</body>
</html>
